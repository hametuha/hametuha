!function($){"use strict";$(document).ready(function(){var e=$("#change-login-form"),a=$("#login_name"),n=a.parents(".has-feedback"),t=e.find("input[type=submit]");if(e.length){var s=null,i=function(i){s&&clearTimeout(s),s=setTimeout(function(){n.addClass("loading"),n.removeClass("has-success").removeClass("has-error"),$.ajax(a.attr("data-check"),{type:"GET",dataType:"json",data:{login:a.val(),_wpnonce:e.find("input[name=_wpnonce]").val()},success:function(e){e.success?(n.addClass("has-success"),$("#login_nicename").val(e.niceName),t.prop("disabled",!1),i&&i()):(n.addClass("has-error"),t.prop("disabled",!0))},error:function(e){n.addClass("has-error"),t.prop("disabled",!0)},complete:function(){n.removeClass("loading")}})},1500)};a.keyup(function(e){$(this).val().length&&i()}),a.blur(function(e){$(this).val().length&&i()}),e.submit(function(n){n.preventDefault(),a.val().length&&confirm("ログイン名を変更します。よろしいですか？")&&i(function(){e.ajaxSubmit({dataType:"json",success:function(e){Hametuha.alert(e.message),setTimeout(function(){window.location.href=e.url},5e3)},error:function(){Hametuha.alert("更新に失敗しました。もう一度やり直してください。",!0)}})})})}$("#select-picture-form, #delete-picture-form").submit(function(e){var a=$("input:checked","#pic-file-list");a.length?$(this).find(".attachment_id_holder").val(a.val()):(e.preventDefault(),Hametuha.alert("画像が選択されていません。"))})})}(jQuery);