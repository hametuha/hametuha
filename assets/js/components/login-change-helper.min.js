!function(a){"use strict";a(document).ready(function(){var b=a("#change-login-form"),c=a("#login_name"),d=c.parents(".has-feedback"),e=b.find("input[type=submit]");if(b.length){var f=null,g=function(g){f&&clearTimeout(f),f=setTimeout(function(){d.addClass("loading"),d.removeClass("has-success").removeClass("has-error"),a.ajax(c.attr("data-check"),{type:"GET",dataType:"json",data:{login:c.val(),_wpnonce:b.find("input[name=_wpnonce]").val()},success:function(b){b.success?(d.addClass("has-success"),a("#login_nicename").val(b.niceName),e.prop("disabled",!1),g&&g()):(d.addClass("has-error"),e.prop("disabled",!0))},error:function(){d.addClass("has-error"),e.prop("disabled",!0)},complete:function(){d.removeClass("loading")}})},1500)};c.keyup(function(){a(this).val().length&&g()}),c.blur(function(){a(this).val().length&&g()}),b.submit(function(a){a.preventDefault(),c.val().length&&confirm("ログイン名を変更します。よろしいですか？")&&g(function(){b.ajaxSubmit({dataType:"json",success:function(a){Hametuha.alert(a.message),setTimeout(function(){window.location.href=a.url},5e3)},error:function(){Hametuha.alert("更新に失敗しました。もう一度やり直してください。",!0)}})})})}a("#select-picture-form, #delete-picture-form").submit(function(b){var c=a("input:checked","#pic-file-list");c.length?a(this).find(".attachment_id_holder").val(c.val()):(b.preventDefault(),Hametuha.alert("画像が選択されていません。"))})})}(jQuery);
//# sourceMappingURL=login-change-helper.min.js.map