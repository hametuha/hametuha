!function(a){"use strict";google.load("visualization","1",null),a(document).ready(function(){a(".datepicker").datepicker({dateFormat:"yy-mm-dd",changeYear:!0})}),google.setOnLoadCallback(function(){var t={};a(".stat").on("update.analytics.hametuha",function(o,i,n,e){var r=a(this),s=r.attr("id");r.removeClass("no-data").addClass("loading"),a.get(r.attr("data-endpoint"),{from:n,to:e}).done(function(a){if(a&&a.data){if(t[s]||(t[s]=new google.visualization.ChartWrapper({chartType:r.attr("data-type"),containerId:r.find(".stat__container").attr("id")})),t[s].setOptions(a.options),a.data.cols)t[s].setDataTable(a.data);else{var o=google.visualization.arrayToDataTable(a.data);t[s].setDataTable(o)}t[s].draw()}else r.addClass("no-data")}).fail(function(a,t,o){window.alert(o)}).always(function(){r.removeClass("loading")})});var o=!1;a("#analytics-date-form").submit(function(t){t.preventDefault();var i=a(this).find("input[name=from]").val(),n=a(this).find("input[name=to]").val();a(".stat").trigger("update.analytics.hametuha",[a(this).attr("action"),i,n]),window.history&&window.history.pushState&&(o?history.pushState({from:i,to:n},document.title,window.location.pathname+"?from="+i+"&to="+n):o=!0)}).trigger("submit");var i=null;a(window).resize(function(){i&&clearTimeout(i),i=setTimeout(function(){for(var a in t)t.hasOwnProperty(a)&&t[a].draw()},500)})})}(jQuery);
//# sourceMappingURL=../map/admin/analytics.js.map