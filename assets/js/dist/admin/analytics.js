!function(a){"use strict";google.load("visualization","1",null),a(document).ready(function(){a(".datepicker").datepicker({dateFormat:"yy-mm-dd",changeYear:!0})}),google.setOnLoadCallback(function(){var t={};a(".stat").on("update.analytics.hametuha",function(e,n,i,o){var r=a(this),d=r.attr("id");r.removeClass("no-data").addClass("loading"),a.get(r.attr("data-endpoint"),{from:i,to:o}).done(function(a){if(a&&a.data){if(t[d]||(t[d]=new google.visualization.ChartWrapper({chartType:r.attr("data-type"),containerId:r.find(".stat__container").attr("id")})),t[d].setOptions(a.options),a.data.cols)t[d].setDataTable(a.data);else{var e=google.visualization.arrayToDataTable(a.data);t[d].setDataTable(e)}t[d].draw()}else r.addClass("no-data")}).fail(function(a,t,e){window.alert(e)}).always(function(){r.removeClass("loading")})}),a("#analytics-date-form").submit(function(t){t.preventDefault(),a(".stat").trigger("update.analytics.hametuha",[a(this).attr("action"),a(this).find("input[name=from]").val(),a(this).find("input[name=to]").val()])}).trigger("submit");var e=null;a(window).resize(function(){e&&clearTimeout(e),e=setTimeout(function(){for(var a in t)t.hasOwnProperty(a)&&t[a].draw()},500)})})}(jQuery);
//# sourceMappingURL=../map/admin/analytics.js.map