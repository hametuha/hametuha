!function(t){"use strict";t(document).on("click","a.btn-follow",function(n){var e=WP_API_Settings.root+"hametuha/v1/doujin/follow/"+t(this).attr("data-follower-id")+"/",o=t(this),a=t(this).hasClass("btn-following");n.preventDefault(),a?Hametuha.confirm("フォローを解除してよろしいですか？",function(){t.ajax({url:e,method:"DELETE",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",WP_API_Settings.nonce)},data:{}}).done(function(t){o.removeClass("btn-following")}).fail(function(){Hametuha.alert("フォローを解除できませんでした")})}):t.ajax({url:e,method:"POST",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",WP_API_Settings.nonce)},data:{}}).done(function(t){o.addClass("btn-following")}).fail(function(){Hametuha.alert("フォローに失敗しました。すでにフォロー済みか、サーバが混み合っています。")})})}(jQuery);
//# sourceMappingURL=../map/components/follow-toggle.js.map