!function(e){"use strict";e(document).on("click","a.btn-follow",function(n){var o=wpApiSettings.root+"hametuha/v1/doujin/follow/"+e(this).attr("data-follower-id")+"/",t=e(this),a=e(this).hasClass("btn-following");n.preventDefault(),t.hasClass("btn-follow--loading")||(a?Hametuha.confirm("フォローを解除してよろしいですか？",function(){t.addClass("btn-follow--loading"),e.ajax({url:o,method:"DELETE",beforeSend:function(n){n.setRequestHeader("X-WP-Nonce",wpApiSettings.nonce)},data:{}}).done(function(n){t.removeClass("btn-following")}).fail(function(){Hametuha.alert("フォローを解除できませんでした",!0)}).always(function(){t.removeClass("btn-follow--loading")})},!0):(t.addClass("btn-follow--loading"),e.ajax({url:o,method:"POST",beforeSend:function(n){n.setRequestHeader("X-WP-Nonce",wpApiSettings.nonce)},data:{}}).done(function(n){t.addClass("btn-following")}).fail(function(){Hametuha.alert("フォローに失敗しました。すでにフォロー済みか、サーバが混み合っています。",!0)}).always(function(){t.removeClass("btn-follow--loading")})))})}(jQuery);
//# sourceMappingURL=../map/components/follow-toggle.js.map
