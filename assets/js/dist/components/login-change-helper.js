!function(o){"use strict";o(document).ready(function(){var n=o("#change-login-form"),t=o("#login_name"),s=t.parents(".has-feedback"),i=n.find("input[type=submit]");if(n.length){var e=null,a=function(a){e&&clearTimeout(e),e=setTimeout(function(){s.addClass("loading"),s.removeClass("has-success").removeClass("has-error"),o.ajax(t.attr("data-check"),{type:"GET",dataType:"json",data:{login:t.val(),_wpnonce:n.find("input[name=_wpnonce]").val()},success:function(e){e.success?(s.addClass("has-success"),o("#login_nicename").val(e.niceName),i.prop("disabled",!1),a&&a()):(s.addClass("has-error"),i.prop("disabled",!0))},error:function(e){s.addClass("has-error"),i.prop("disabled",!0)},complete:function(){s.removeClass("loading")}})},1500)};t.keyup(function(e){o(this).val().length&&a()}),t.blur(function(e){o(this).val().length&&a()}),n.submit(function(e){e.preventDefault(),t.val().length&&window.confirm("ログイン名を変更します。よろしいですか？")&&a(function(){n.ajaxSubmit({dataType:"json",success:function(e){Hametuha.alert(e.message,!1),setTimeout(function(){window.location.href=e.url},5e3)},error:function(){Hametuha.alert("更新に失敗しました。もう一度やり直してください。",!0)}})})})}o("#select-picture-form, #delete-picture-form").submit(function(e){var a=o("input:checked","#pic-file-list");a.length?o(this).find(".attachment_id_holder").val(a.val()):(e.preventDefault(),Hametuha.alert("画像が選択されていません。"))})})}(jQuery);
//# sourceMappingURL=../map/components/login-change-helper.js.map
