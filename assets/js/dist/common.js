!function(o){"use strict";window.Hametuha={ga:{hitEvent:function(e,t,i,s,n){try{void 0===s&&(s=1),ga("send",{hitType:"event",eventCategory:e,eventAction:t,eventLabel:i,eventValue:s,nonInteraction:!!n})}catch(e){}},eventOutbound:function(e,t,i,s,n,o){try{void 0===o&&(o=1),ga("send",{hitType:"event",eventCategory:i,eventAction:s,eventLabel:n,eventValue:o,hitCallback:function(){Modernizr.touch?window.location.href=t:"share"===i?window.open(t,"outbound","width=520, height=350"):window.open(t,"outbound")}}),e.preventDefault()}catch(e){}}},str:{yakumono:/^[ 　【】《〔〝『「（”"'’\(\)]/,startYakumono:function(e){return this.yakumono.test(e)}},alert:function(e,t,i){var s,n;switch(void 0===i&&(i=7e3),t){case"info":case"danger":case"warning":s=t;break;case!0:case"error":s="danger";break;default:s="success"}n=o('<div class="alert alert-'+s+' alert-dismissible alert-sticky" role="alert"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>'+e+"</div>"),o("#whole-body").length?o("#whole-body").append(n):o("body").append(n),setTimeout(function(){n.addClass("alert-sticky-on")},10),setTimeout(function(){n.removeClass("alert-sticky-on"),setTimeout(function(){n.remove()},300)},i)},confirm:function(e,t,i){bootbox.dialog({title:"確認",message:e,buttons:{cancel:{label:"キャンセル",className:"btn-default"},ok:{label:i?"実行":"OK",className:i?"btn-danger":"btn-success",callback:t}}})},isTategaki:function(){return o("body").hasClass("tategaki")},template:function(e){return HametuhaGlobal.angularTemplateDir+e},models:{},views:{},collections:{},modal:{open:function(e,t){this.reset();var i=o("#hametu-modal");i.find(".modal-title").html(e),"function"==typeof t?(i.addClass("loading"),t(i)):i.find(".modal-body").html(t),i.modal("show")},close:function(){var e=o("#hametu-modal");this.reset(),e.modal("hide")},reset:function(){var e=o("#hametu-modal");e.find(".modal-title").html(""),e.find(".modal-body").html("")}}}}(jQuery),function(n){"use strict";n(document).on("click",".anpi-new",function(e){e.preventDefault(),Hametuha.modal.open("安否報告",function(t){n.post("/anpi/mine/new/").done(function(e){t.removeClass("loading").find(".modal-body").append(e.html)}).fail(function(e){var t=e.responseJSON?e.responseJSON.message:"失敗しました。";Hametuha.alert(t,!0),Hametuha.modal.close()})})}),n(document).on("submit","#new-tweet-form",function(e){e.preventDefault();var t,i,s=n(this).find("#new-tweet-id");(i={content:n.trim(n(this).find("#new-anpi-content").val())}).content.length&&(s.length?t="PUT":(t="POST",i.mention=n(this).find("#mention").val()),n.ajax({method:t,url:wpApiSettings.root+"hametuha/v1/anpi/new/",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",wpApiSettings.nonce)},data:i}).done(function(e){Hametuha.alert("めつかれさまでした。安否報告を受け付けました。")}).fail(function(e){var t=e.responseJSON?e.responseJSON.message:"失敗しました。";Hametuha.alert(t,!0)}).always(function(e){Hametuha.modal.close()}))})}(jQuery),function(e){"use strict";e(document).ready(function(){e(".ebookList__wrap").slick({infinite:!0,slidesToShow:6,slidesToScroll:3,dots:!0,speed:200,cssEase:"ease-in-out",autoplay:!0,autoplaySpeed:2e3,responsive:[{breakpoint:768,settings:{slidesToShow:3,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:2,slidesToScroll:1}}]}),e(".widget-kdp-list").slick({infinite:!0,slidesToShow:1,slidesToScroll:1,dots:!0,speed:200,cssEase:"ease-in-out",autoplay:!0,autoplaySpeed:2e3})})}(jQuery),jQuery(document).ready(function(n){"use strict";window.Hametuha;n("form").submit(function(){"true"===n(this).attr("data-no-interruption")&&n(this).find("input[type=submit]").attr("disabled",!0)}),n(".pseudo-uploader").each(function(e,i){var t=n(i).next("input");n(i).on("click",".btn",function(e){e.preventDefault(),t.trigger("click")}),t.change(function(e){var t=n(this).val().split("\\");n(i).find("input[type=text]").val(t[t.length-1])})}),n(".form-unlimiter").click(function(e){n(this).parents("form").find("input[type=submit]").prop("disabled",!n(this).attr("checked"))}),n("a[data-confirm], input[data-confirm]").click(function(e){if(!window.confirm(n(this).attr("data-confirm")))return!1}),n(".validator").submit(function(e){n(this).find("runtime-error").remove();var s=[];n(this).find(".required").each(function(e,t){if(!n(t).val()){n(t).addClass("error");var i=n("label[for="+n(t).attr("id")+"]",this);i.length&&s.push(i.text()+"は必須項目です。")}}),s.length&&e.preventDefault()}),n(document).on("submit","#searchBox form",function(){var e=n(this).find("input[name=post_type]:checked");switch(e.val()){case"any":e.attr("checked",!1);break;case"author":n(this).attr("action",e.attr("data-search-action")),e.attr("checked",!1)}})}),
/*!
 * headroom.js v0.9.3 - Give your page some headroom. Hide your header until you need it
 * Copyright (c) 2016 Nick Williams - http://wicky.nillia.ms/headroom.js
 * License: MIT
 */
function(e,t){"use strict";"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.Headroom=t()}(this,function(){"use strict";var e={bind:!!function(){}.bind,classList:"classList"in document.documentElement,rAF:!!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame)};function t(e){this.callback=e,this.ticking=!1}function s(e,t){var i;t=function e(t){if(arguments.length<=0)throw new Error("Missing arguments in extend function");var i,s,n,o=t||{};for(s=1;s<arguments.length;s++){var a=arguments[s]||{};for(i in a)"object"!=typeof o[i]||(n=o[i])&&"undefined"!=typeof window&&(n===window||n.nodeType)?o[i]=o[i]||a[i]:o[i]=e(o[i],a[i])}return o}(t,s.options),this.lastKnownScrollY=0,this.elem=e,this.tolerance=(i=t.tolerance)===Object(i)?i:{down:i,up:i},this.classes=t.classes,this.offset=t.offset,this.scroller=t.scroller,this.initialised=!1,this.onPin=t.onPin,this.onUnpin=t.onUnpin,this.onTop=t.onTop,this.onNotTop=t.onNotTop,this.onBottom=t.onBottom,this.onNotBottom=t.onNotBottom}return window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,t.prototype={constructor:t,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},s.prototype={constructor:s,init:function(){if(s.cutsTheMustard)return this.debouncer=new t(this.update.bind(this)),this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this},destroy:function(){var e=this.classes;this.initialised=!1,this.elem.classList.remove(e.unpinned,e.pinned,e.top,e.notTop,e.initial),this.scroller.removeEventListener("scroll",this.debouncer,!1)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,this.scroller.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var e=this.elem.classList,t=this.classes;!e.contains(t.pinned)&&e.contains(t.unpinned)||(e.add(t.unpinned),e.remove(t.pinned),this.onUnpin&&this.onUnpin.call(this))},pin:function(){var e=this.elem.classList,t=this.classes;e.contains(t.unpinned)&&(e.remove(t.unpinned),e.add(t.pinned),this.onPin&&this.onPin.call(this))},top:function(){var e=this.elem.classList,t=this.classes;e.contains(t.top)||(e.add(t.top),e.remove(t.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var e=this.elem.classList,t=this.classes;e.contains(t.notTop)||(e.add(t.notTop),e.remove(t.top),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){var e=this.elem.classList,t=this.classes;e.contains(t.bottom)||(e.add(t.bottom),e.remove(t.notBottom),this.onBottom&&this.onBottom.call(this))},notBottom:function(){var e=this.elem.classList,t=this.classes;e.contains(t.notBottom)||(e.add(t.notBottom),e.remove(t.bottom),this.onNotBottom&&this.onNotBottom.call(this))},getScrollY:function(){return void 0!==this.scroller.pageYOffset?this.scroller.pageYOffset:void 0!==this.scroller.scrollTop?this.scroller.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop},getViewportHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},getElementPhysicalHeight:function(e){return Math.max(e.offsetHeight,e.clientHeight)},getScrollerPhysicalHeight:function(){return this.scroller===window||this.scroller===document.body?this.getViewportHeight():this.getElementPhysicalHeight(this.scroller)},getDocumentHeight:function(){var e=document.body,t=document.documentElement;return Math.max(e.scrollHeight,t.scrollHeight,e.offsetHeight,t.offsetHeight,e.clientHeight,t.clientHeight)},getElementHeight:function(e){return Math.max(e.scrollHeight,e.offsetHeight,e.clientHeight)},getScrollerHeight:function(){return this.scroller===window||this.scroller===document.body?this.getDocumentHeight():this.getElementHeight(this.scroller)},isOutOfBounds:function(e){var t=e<0,i=e+this.getScrollerPhysicalHeight()>this.getScrollerHeight();return t||i},toleranceExceeded:function(e,t){return Math.abs(e-this.lastKnownScrollY)>=this.tolerance[t]},shouldUnpin:function(e,t){var i=e>this.lastKnownScrollY,s=e>=this.offset;return i&&s&&t},shouldPin:function(e,t){var i=e<this.lastKnownScrollY,s=e<=this.offset;return i&&t||s},update:function(){var e=this.getScrollY(),t=e>this.lastKnownScrollY?"down":"up",i=this.toleranceExceeded(e,t);this.isOutOfBounds(e)||(e<=this.offset?this.top():this.notTop(),e+this.getViewportHeight()>=this.getScrollerHeight()?this.bottom():this.notBottom(),this.shouldUnpin(e,i)?this.unpin():this.shouldPin(e,i)&&this.pin(),this.lastKnownScrollY=e)}},s.options={tolerance:{up:0,down:0},offset:0,scroller:window,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},s.cutsTheMustard=void 0!==e&&e.rAF&&e.bind&&e.classList,s}),function(n){"use strict";n(document).on("click","a[data-stock]",function(e){var i=n(this),t=i.attr("data-stock");e.preventDefault(),i.attr("disabled",!0),n.ajax({url:wpApiSettings.root+"hametuha/v1/idea/"+t+"/",method:"POST",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",wpApiSettings.nonce)}}).done(function(e){i.attr("data-stock",null).text("ストック済み"),Hametuha.alert("このアイデアをストックしました。")}).fail(function(e){var t=e.responseJSON?e.responseJSON.message:"失敗しました。";Hametuha.alert(t,!0),i.attr("disabled",!1)})}),n(document).on("click","a[data-recommend]",function(e){var i=n(this);i.attr("data-recommend");e.preventDefault(),Hametuha.modal.open("アイデアを薦める",function(t){n.post(i.attr("href")).done(function(e){t.removeClass("loading").find(".modal-body").append(e.html)}).fail(function(e){var t=e.responseJSON?e.responseJSON.message:"失敗しました。";Hametuha.alert(t,!0),Hametuha.modal.close()})})}),n(document).on("submit","#recommend-idea-form",function(e){e.preventDefault(),n.ajax({method:"PUT",url:wpApiSettings.root+"hametuha/v1/idea/"+n(this).attr("data-post-id")+"/",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",wpApiSettings.nonce)},data:{user_id:n(this).find("#recommend_to").val()}}).done(function(e){Hametuha.alert(e.message),Hametuha.modal.close()}).fail(function(e){var t=e.responseJSON?e.responseJSON.message:"失敗しました。";Hametuha.alert(t,!0)})}),n(document).on("click",'a[data-action="post-idea"]',function(e){e.preventDefault();var i=n(this);Hametuha.modal.open("アイデアを投稿する",function(t){n.post(i.attr("href")).done(function(e){t.removeClass("loading").find(".modal-body").append(e.html)}).fail(function(e){var t=e.responseJSON?e.responseJSON.message:"失敗しました。";Hametuha.alert(t,!0),Hametuha.modal.close()})})}),n(document).on("submit","#new-idea-form",function(e){e.preventDefault();var t,i,s=n(this).find("#new-idea-id");i={title:n("#new-idea-name").val(),content:n("#new-idea-content").val(),status:n("#new-idea-privacy").attr("checked")?"private":"publish",genre:n("#new-idea-genre").val()},s.length?(t="PUT",i.post_id=s.val()):t="POST",n.ajax({method:t,url:wpApiSettings.root+"hametuha/v1/idea/mine/",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",wpApiSettings.nonce)},data:i}).done(function(e){Hametuha.modal.close(),window.location.href===e.url?(Hametuha.alert(e.message+"3秒後にページを更新します……"),setTimeout(function(){window.location.reload()},3e3)):Hametuha.alert(e.message+'<a class="alert-link" href="'+e.url+'">アイデアのページヘ移動する</a>')}).fail(function(e){var t=e.responseJSON?e.responseJSON.message:"失敗しました。";Hametuha.alert(t,!0)})}),n(document).on("click",'a[data-action="delete-idea"]',function(e){e.preventDefault();var t=n(this).attr("data-post-id");Hametuha.confirm("このアイデアを削除してよろしいですか？",function(){n.ajax({method:"DELETE",url:wpApiSettings.root+"hametuha/v1/idea/mine/?post_id="+t,beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",wpApiSettings.nonce)}}).done(function(e){Hametuha.alert(e.message)}).fail(function(e){var t=e.responseJSON?e.responseJSON.message:"失敗しました。";Hametuha.alert(t,"danger")})},!0)}),n(document).on("click",'a[data-action="edit-idea"]',function(e){var i=n(this).attr("href");e.preventDefault(),Hametuha.modal.open("アイデアを編集する",function(t){n.post(i).done(function(e){t.removeClass("loading").find(".modal-body").append(e.html)}).fail(function(e){var t=e.responseJSON?e.responseJSON.message:"失敗しました。";Hametuha.alert(t,"danger"),Hametuha.modal.close()})})})}(jQuery),function(d){var c,p,o,e,u="mmenu";d[u]&&"5.6.3"<d[u].version||(d[u]=function(e,t,i){this.$menu=e,this._api=["bind","init","update","setSelected","getInstance","openPanel","closePanel","closeAllPanels"],this.opts=t,this.conf=i,this.vars={},this.cbck={},"function"==typeof this.___deprecated&&this.___deprecated(),this._initMenu(),this._initAnchors();var s=this.$pnls.children();return this._initAddons(),this.init(s),"function"==typeof this.___debug&&this.___debug(),this},d[u].version="5.6.3",d[u].addons={},d[u].uniqueId=0,d[u].defaults={extensions:[],navbar:{add:!0,title:"Menu",titleLink:"panel"},onClick:{setSelected:!0},slidingSubmenus:!0},d[u].configuration={classNames:{divider:"Divider",inset:"Inset",panel:"Panel",selected:"Selected",spacer:"Spacer",vertical:"Vertical"},clone:!1,openingInterval:25,panelNodetype:"ul, ol, div",transitionDuration:400},d[u].prototype={init:function(e){e=e.not("."+c.nopanel),e=this._initPanels(e),this.trigger("init",e),this.trigger("update")},update:function(){this.trigger("update")},setSelected:function(e){this.$menu.find("."+c.listview).children().removeClass(c.selected),e.addClass(c.selected),this.trigger("setSelected",e)},openPanel:function(e){var t=e.parent(),i=this;if(t.hasClass(c.vertical)){var s=t.parents("."+c.subopened);if(s.length)return void this.openPanel(s.first());t.addClass(c.opened),this.trigger("openPanel",e),this.trigger("openingPanel",e),this.trigger("openedPanel",e)}else{if(e.hasClass(c.current))return;var n=this.$pnls.children("."+c.panel),o=n.filter("."+c.current);n.removeClass(c.highest).removeClass(c.current).not(e).not(o).not("."+c.vertical).addClass(c.hidden),d[u].support.csstransitions||o.addClass(c.hidden),e.hasClass(c.opened)?e.nextAll("."+c.opened).addClass(c.highest).removeClass(c.opened).removeClass(c.subopened):(e.addClass(c.highest),o.addClass(c.subopened)),e.removeClass(c.hidden).addClass(c.current),i.trigger("openPanel",e),setTimeout(function(){e.removeClass(c.subopened).addClass(c.opened),i.trigger("openingPanel",e),i.__transitionend(e,function(){i.trigger("openedPanel",e)},i.conf.transitionDuration)},this.conf.openingInterval)}},closePanel:function(e){var t=e.parent();t.hasClass(c.vertical)&&(t.removeClass(c.opened),this.trigger("closePanel",e),this.trigger("closingPanel",e),this.trigger("closedPanel",e))},closeAllPanels:function(){this.$menu.find("."+c.listview).children().removeClass(c.selected).filter("."+c.vertical).removeClass(c.opened);var e=this.$pnls.children("."+c.panel).first();this.$pnls.children("."+c.panel).not(e).removeClass(c.subopened).removeClass(c.opened).removeClass(c.current).removeClass(c.highest).addClass(c.hidden),this.openPanel(e)},togglePanel:function(e){var t=e.parent();t.hasClass(c.vertical)&&this[t.hasClass(c.opened)?"closePanel":"openPanel"](e)},getInstance:function(){return this},bind:function(e,t){this.cbck[e]=this.cbck[e]||[],this.cbck[e].push(t)},trigger:function(){var e=Array.prototype.slice.call(arguments),t=e.shift();if(this.cbck[t])for(var i=0,s=this.cbck[t].length;i<s;i++)this.cbck[t][i].apply(this,e)},_initMenu:function(){this.$menu.attr("id",this.$menu.attr("id")||this.__getUniqueId()),this.conf.clone&&(this.$menu=this.$menu.clone(!0),this.$menu.add(this.$menu.find("[id]")).filter("[id]").each(function(){d(this).attr("id",c.mm(d(this).attr("id")))})),this.$menu.contents().each(function(){3==d(this)[0].nodeType&&d(this).remove()}),this.$pnls=d('<div class="'+c.panels+'" />').append(this.$menu.children(this.conf.panelNodetype)).prependTo(this.$menu),this.$menu.parent().addClass(c.wrapper);var e=[c.menu];this.opts.slidingSubmenus||e.push(c.vertical),this.opts.extensions=this.opts.extensions.length?"mm-"+this.opts.extensions.join(" mm-"):"",this.opts.extensions&&e.push(this.opts.extensions),this.$menu.addClass(e.join(" "))},_initPanels:function(e){var r=this,t=this.__findAddBack(e,"ul, ol");this.__refactorClass(t,this.conf.classNames.inset,"inset").addClass(c.nolistview+" "+c.nopanel),t.not("."+c.nolistview).addClass(c.listview);var i=this.__findAddBack(e,"."+c.listview).children();this.__refactorClass(i,this.conf.classNames.selected,"selected"),this.__refactorClass(i,this.conf.classNames.divider,"divider"),this.__refactorClass(i,this.conf.classNames.spacer,"spacer"),this.__refactorClass(this.__findAddBack(e,"."+this.conf.classNames.panel),this.conf.classNames.panel,"panel");var s=d(),n=e.add(e.find("."+c.panel)).add(this.__findAddBack(e,"."+c.listview).children().children(this.conf.panelNodetype)).not("."+c.nopanel);this.__refactorClass(n,this.conf.classNames.vertical,"vertical"),this.opts.slidingSubmenus||n.addClass(c.vertical),n.each(function(){var e=d(this),t=e;e.is("ul, ol")?(e.wrap('<div class="'+c.panel+'" />'),t=e.parent()):t.addClass(c.panel);var i=e.attr("id");e.removeAttr("id"),t.attr("id",i||r.__getUniqueId()),e.hasClass(c.vertical)&&(e.removeClass(r.conf.classNames.vertical),t.add(t.parent()).addClass(c.vertical)),s=s.add(t)});var o=d("."+c.panel,this.$menu);s.each(function(e){var t,i,s=d(this),n=s.parent(),o=n.children("a, span").first();if(n.is("."+c.panels)||(n.data(p.sub,s),s.data(p.parent,n)),n.children("."+c.next).length||n.parent().is("."+c.listview)&&(t=s.attr("id"),i=d('<a class="'+c.next+'" href="#'+t+'" data-target="#'+t+'" />').insertBefore(o),o.is("span")&&i.addClass(c.fullsubopen)),!s.children("."+c.navbar).length&&!n.hasClass(c.vertical)){n=n.parent().is("."+c.listview)?n.closest("."+c.panel):(o=n.closest("."+c.panel).find('a[href="#'+s.attr("id")+'"]').first()).closest("."+c.panel);var a=d('<div class="'+c.navbar+'" />');if(n.length){switch(t=n.attr("id"),r.opts.navbar.titleLink){case"anchor":_url=o.attr("href");break;case"panel":case"parent":_url="#"+t;break;default:_url=!1}a.append('<a class="'+c.btn+" "+c.prev+'" href="#'+t+'" data-target="#'+t+'" />').append(d('<a class="'+c.title+'"'+(_url?' href="'+_url+'"':"")+" />").text(o.text())).prependTo(s),r.opts.navbar.add&&s.addClass(c.hasnavbar)}else r.opts.navbar.title&&(a.append('<a class="'+c.title+'">'+r.opts.navbar.title+"</a>").prependTo(s),r.opts.navbar.add&&s.addClass(c.hasnavbar))}});var a=this.__findAddBack(e,"."+c.listview).children("."+c.selected).removeClass(c.selected).last().addClass(c.selected);a.add(a.parentsUntil("."+c.menu,"li")).filter("."+c.vertical).addClass(c.opened).end().each(function(){d(this).parentsUntil("."+c.menu,"."+c.panel).not("."+c.vertical).first().addClass(c.opened).parentsUntil("."+c.menu,"."+c.panel).not("."+c.vertical).first().addClass(c.opened).addClass(c.subopened)}),a.children("."+c.panel).not("."+c.vertical).addClass(c.opened).parentsUntil("."+c.menu,"."+c.panel).not("."+c.vertical).first().addClass(c.opened).addClass(c.subopened);var l=o.filter("."+c.opened);return l.length||(l=s.first()),l.addClass(c.opened).last().addClass(c.current),s.not("."+c.vertical).not(l.last()).addClass(c.hidden).end().filter(function(){return!d(this).parent().hasClass(c.panels)}).appendTo(this.$pnls),s},_initAnchors:function(){var l=this;e.$body.on(o.click+"-oncanvas","a[href]",function(e){var t=d(this),i=!1,s=l.$menu.find(t).length;for(var n in d[u].addons)if(d[u].addons[n].clickAnchor.call(l,t,s)){i=!0;break}var o=t.attr("href");if(!i&&s&&1<o.length&&"#"==o.slice(0,1))try{var a=d(o,l.$menu);a.is("."+c.panel)&&(i=!0,l[t.parent().hasClass(c.vertical)?"togglePanel":"openPanel"](a))}catch(e){}if(i&&e.preventDefault(),!i&&s&&t.is("."+c.listview+" > li > a")&&!t.is('[rel="external"]')&&!t.is('[target="_blank"]')){l.__valueOrFn(l.opts.onClick.setSelected,t)&&l.setSelected(d(e.target).parent());var r=l.__valueOrFn(l.opts.onClick.preventDefault,t,"#"==o.slice(0,1));r&&e.preventDefault(),l.__valueOrFn(l.opts.onClick.close,t,r)&&l.close()}})},_initAddons:function(){var e;for(e in d[u].addons)d[u].addons[e].add.call(this),d[u].addons[e].add=function(){};for(e in d[u].addons)d[u].addons[e].setup.call(this)},_getOriginalMenuId:function(){var e=this.$menu.attr("id");return e&&e.length&&this.conf.clone&&(e=c.umm(e)),e},__api:function(){var i=this,s={};return d.each(this._api,function(e){var t=this;s[t]=function(){var e=i[t].apply(i,arguments);return void 0===e?s:e}}),s},__valueOrFn:function(e,t,i){return"function"==typeof e?e.call(t[0]):void 0===e&&void 0!==i?i:e},__refactorClass:function(e,t,i){return e.filter("."+t).removeClass(t).addClass(c[i])},__findAddBack:function(e,t){return e.find(t).add(e.filter(t))},__filterListItems:function(e){return e.not("."+c.divider).not("."+c.hidden)},__transitionend:function(e,t,i){var s=!1,n=function(){s||t.call(e[0]),s=!0};e.one(o.transitionend,n),e.one(o.webkitTransitionEnd,n),setTimeout(n,1.1*i)},__getUniqueId:function(){return c.mm(d[u].uniqueId++)}},d.fn[u]=function(i,s){return d[u].glbl||(e={$wndw:d(window),$docu:d(document),$html:d("html"),$body:d("body")},c={},p={},o={},d.each([c,p,o],function(e,s){s.add=function(e){for(var t=0,i=(e=e.split(" ")).length;t<i;t++)s[e[t]]=s.mm(e[t])}}),c.mm=function(e){return"mm-"+e},c.add("wrapper menu panels panel nopanel current highest opened subopened navbar hasnavbar title btn prev next listview nolistview inset vertical selected divider spacer hidden fullsubopen"),c.umm=function(e){return"mm-"==e.slice(0,3)&&(e=e.slice(3)),e},p.mm=function(e){return"mm-"+e},p.add("parent sub"),o.mm=function(e){return e+".mm"},o.add("transitionend webkitTransitionEnd click scroll keydown mousedown mouseup touchstart touchmove touchend orientationchange"),d[u]._c=c,d[u]._d=p,d[u]._e=o,d[u].glbl=e),i=d.extend(!0,{},d[u].defaults,i),s=d.extend(!0,{},d[u].configuration,s),this.each(function(){var e=d(this);if(!e.data(u)){var t=new d[u](e,i,s);t.$menu.data(u,t.__api())}})},d[u].support={touch:"ontouchstart"in window||navigator.msMaxTouchPoints||!1,csstransitions:function(){if("undefined"!=typeof Modernizr&&void 0!==Modernizr.csstransitions)return Modernizr.csstransitions;var e=(document.body||document.documentElement).style,t="transition";if("string"==typeof e[t])return!0;var i=["Moz","webkit","Webkit","Khtml","O","ms"];t=t.charAt(0).toUpperCase()+t.substr(1);for(var s=0;s<i.length;s++)if("string"==typeof e[i[s]+t])return!0;return!1}()})}(jQuery),function(o){var a,s,n,r,l="mmenu",d="offCanvas";o[l].addons[d]={setup:function(){if(this.opts[d]){var e=this.opts[d],t=this.conf[d];r=o[l].glbl,this._api=o.merge(this._api,["open","close","setPage"]),("top"==e.position||"bottom"==e.position)&&(e.zposition="front"),"string"!=typeof t.pageSelector&&(t.pageSelector="> "+t.pageNodetype),r.$allMenus=(r.$allMenus||o()).add(this.$menu),this.vars.opened=!1;var i=[a.offcanvas];"left"!=e.position&&i.push(a.mm(e.position)),"back"!=e.zposition&&i.push(a.mm(e.zposition)),this.$menu.addClass(i.join(" ")).parent().removeClass(a.wrapper),this.setPage(r.$page),this._initBlocker(),this["_initWindow_"+d](),this.$menu[t.menuInjectMethod+"To"](t.menuWrapperSelector);var s=window.location.hash;if(s){var n=this._getOriginalMenuId();n&&n==s.slice(1)&&this.open()}}},add:function(){a=o[l]._c,s=o[l]._d,n=o[l]._e,a.add("offcanvas slideout blocking modal background opening blocker page"),s.add("style"),n.add("resize")},clickAnchor:function(e,t){if(!this.opts[d])return!1;var i=this._getOriginalMenuId();return i&&e.is('[href="#'+i+'"]')?(this.open(),!0):r.$page?!(!(i=r.$page.first().attr("id"))||!e.is('[href="#'+i+'"]'))&&(this.close(),!0):void 0}},o[l].defaults[d]={position:"left",zposition:"back",blockUI:!0,moveBackground:!0},o[l].configuration[d]={pageNodetype:"div",pageSelector:null,noPageSelector:[],wrapPageIfNeeded:!0,menuWrapperSelector:"body",menuInjectMethod:"prepend"},o[l].prototype.open=function(){if(!this.vars.opened){var e=this;this._openSetup(),setTimeout(function(){e._openFinish()},this.conf.openingInterval),this.trigger("open")}},o[l].prototype._openSetup=function(){var e=this,t=this.opts[d];this.closeAllOthers(),r.$page.each(function(){o(this).data(s.style,o(this).attr("style")||"")}),r.$wndw.trigger(n.resize+"-"+d,[!0]);var i=[a.opened];t.blockUI&&i.push(a.blocking),"modal"==t.blockUI&&i.push(a.modal),t.moveBackground&&i.push(a.background),"left"!=t.position&&i.push(a.mm(this.opts[d].position)),"back"!=t.zposition&&i.push(a.mm(this.opts[d].zposition)),this.opts.extensions&&i.push(this.opts.extensions),r.$html.addClass(i.join(" ")),setTimeout(function(){e.vars.opened=!0},this.conf.openingInterval),this.$menu.addClass(a.current+" "+a.opened)},o[l].prototype._openFinish=function(){var e=this;this.__transitionend(r.$page.first(),function(){e.trigger("opened")},this.conf.transitionDuration),r.$html.addClass(a.opening),this.trigger("opening")},o[l].prototype.close=function(){if(this.vars.opened){var e=this;this.__transitionend(r.$page.first(),function(){e.$menu.removeClass(a.current).removeClass(a.opened),r.$html.removeClass(a.opened).removeClass(a.blocking).removeClass(a.modal).removeClass(a.background).removeClass(a.mm(e.opts[d].position)).removeClass(a.mm(e.opts[d].zposition)),e.opts.extensions&&r.$html.removeClass(e.opts.extensions),r.$page.each(function(){o(this).attr("style",o(this).data(s.style))}),e.vars.opened=!1,e.trigger("closed")},this.conf.transitionDuration),r.$html.removeClass(a.opening),this.trigger("close"),this.trigger("closing")}},o[l].prototype.closeAllOthers=function(){r.$allMenus.not(this.$menu).each(function(){var e=o(this).data(l);e&&e.close&&e.close()})},o[l].prototype.setPage=function(e){var t=this,i=this.conf[d];e&&e.length||(e=r.$body.find(i.pageSelector),i.noPageSelector.length&&(e=e.not(i.noPageSelector.join(", "))),1<e.length&&i.wrapPageIfNeeded&&(e=e.wrapAll("<"+this.conf[d].pageNodetype+" />").parent())),e.each(function(){o(this).attr("id",o(this).attr("id")||t.__getUniqueId())}),e.addClass(a.page+" "+a.slideout),r.$page=e,this.trigger("setPage",e)},o[l].prototype["_initWindow_"+d]=function(){r.$wndw.off(n.keydown+"-"+d).on(n.keydown+"-"+d,function(e){return r.$html.hasClass(a.opened)&&9==e.keyCode?(e.preventDefault(),!1):void 0});var s=0;r.$wndw.off(n.resize+"-"+d).on(n.resize+"-"+d,function(e,t){if(1==r.$page.length&&(t||r.$html.hasClass(a.opened))){var i=r.$wndw.height();(t||i!=s)&&(s=i,r.$page.css("minHeight",i))}})},o[l].prototype._initBlocker=function(){var t=this;this.opts[d].blockUI&&(r.$blck||(r.$blck=o('<div id="'+a.blocker+'" class="'+a.slideout+'" />')),r.$blck.appendTo(r.$body).off(n.touchstart+"-"+d+" "+n.touchmove+"-"+d).on(n.touchstart+"-"+d+" "+n.touchmove+"-"+d,function(e){e.preventDefault(),e.stopPropagation(),r.$blck.trigger(n.mousedown+"-"+d)}).off(n.mousedown+"-"+d).on(n.mousedown+"-"+d,function(e){e.preventDefault(),r.$html.hasClass(a.modal)||(t.closeAllOthers(),t.close())}))}}(jQuery),function(n){var o,a,r,l="mmenu",d="scrollBugFix";n[l].addons[d]={setup:function(){var t=this,e=this.opts[d];if(this.conf[d],r=n[l].glbl,n[l].support.touch&&this.opts.offCanvas&&this.opts.offCanvas.blockUI&&("boolean"==typeof e&&(e={fix:e}),"object"!=typeof e&&(e={}),(e=this.opts[d]=n.extend(!0,{},n[l].defaults[d],e)).fix)){var i=this.$menu.attr("id"),s=!1;this.bind("opening",function(){this.$pnls.children("."+o.current).scrollTop(0)}),r.$docu.on(a.touchmove,function(e){t.vars.opened&&e.preventDefault()}),r.$body.on(a.touchstart,"#"+i+"> ."+o.panels+"> ."+o.current,function(e){t.vars.opened&&(s||(s=!0,0===e.currentTarget.scrollTop?e.currentTarget.scrollTop=1:e.currentTarget.scrollHeight===e.currentTarget.scrollTop+e.currentTarget.offsetHeight&&(e.currentTarget.scrollTop-=1),s=!1))}).on(a.touchmove,"#"+i+"> ."+o.panels+"> ."+o.current,function(e){t.vars.opened&&n(this)[0].scrollHeight>n(this).innerHeight()&&e.stopPropagation()}),r.$wndw.on(a.orientationchange,function(){t.$pnls.children("."+o.current).scrollTop(0).css({"-webkit-overflow-scrolling":"auto"}).css({"-webkit-overflow-scrolling":"touch"})})}},add:function(){o=n[l]._c,n[l]._d,a=n[l]._e},clickAnchor:function(e,t){}},n[l].defaults[d]={fix:!0}}(jQuery),function(o){var a,e,t="mmenu",i="autoHeight";o[t].addons[i]={setup:function(){if(this.opts.offCanvas){var n=this.opts[i];if(this.conf[i],o[t].glbl,"boolean"==typeof n&&n&&(n={height:"auto"}),"string"==typeof n&&(n={height:n}),"object"!=typeof n&&(n={}),"auto"==(n=this.opts[i]=o.extend(!0,{},o[t].defaults[i],n)).height||"highest"==n.height){this.$menu.addClass(a.autoheight);var e=function(e){if(this.vars.opened){var t=parseInt(this.$pnls.css("top"),10)||0,i=parseInt(this.$pnls.css("bottom"),10)||0,s=0;this.$menu.addClass(a.measureheight),"auto"==n.height?((e=e||this.$pnls.children("."+a.current)).is("."+a.vertical)&&(e=e.parents("."+a.panel).not("."+a.vertical).first()),s=e.outerHeight()):"highest"==n.height&&this.$pnls.children().each(function(){var e=o(this);e.is("."+a.vertical)&&(e=e.parents("."+a.panel).not("."+a.vertical).first()),s=Math.max(s,e.outerHeight())}),this.$menu.height(s+t+i).removeClass(a.measureheight)}};this.bind("opening",e),"highest"==n.height&&this.bind("init",e),"auto"==n.height&&(this.bind("update",e),this.bind("openPanel",e),this.bind("closePanel",e))}}},add:function(){a=o[t]._c,o[t]._d,e=o[t]._e,a.add("autoheight measureheight"),e.add("resize")},clickAnchor:function(e,t){}},o[t].defaults[i]={height:"default"}}(jQuery),function(s){var n,o,a="mmenu",r="backButton";s[a].addons[r]={setup:function(){if(this.opts.offCanvas){var t=this,e=this.opts[r];if(this.conf[r],o=s[a].glbl,"boolean"==typeof e&&(e={close:e}),"object"!=typeof e&&(e={}),(e=s.extend(!0,{},s[a].defaults[r],e)).close){var i="#"+t.$menu.attr("id");this.bind("opened",function(e){location.hash!=i&&history.pushState(null,document.title,i)}),s(window).on("popstate",function(e){o.$html.hasClass(n.opened)?(e.stopPropagation(),t.close()):location.hash==i&&(e.stopPropagation(),t.open())})}}},add:function(){return window.history&&window.history.pushState?(n=s[a]._c,s[a]._d,void s[a]._e):void(s[a].addons[r].setup=function(){})},clickAnchor:function(e,t){}},s[a].defaults[r]={close:!1}}(jQuery),function(n){var o,a,e="mmenu",r="dividers";n[e].addons[r]={setup:function(){var i=this,s=this.opts[r];if(this.conf[r],n[e].glbl,"boolean"==typeof s&&(s={add:s,fixed:s}),"object"!=typeof s&&(s={}),s=this.opts[r]=n.extend(!0,{},n[e].defaults[r],s),this.bind("init",function(e){this.__refactorClass(n("li",this.$menu),this.conf.classNames[r].collapsed,"collapsed")}),s.add&&this.bind("init",function(e){var t;switch(s.addTo){case"panels":t=e;break;default:t=e.filter(s.addTo)}n("."+o.divider,t).remove(),t.find("."+o.listview).not("."+o.vertical).each(function(){var t="";i.__filterListItems(n(this).children()).each(function(){var e=n.trim(n(this).children("a, span").text()).slice(0,1).toLowerCase();e!=t&&e.length&&(t=e,n('<li class="'+o.divider+'">'+e+"</li>").insertBefore(this))})})}),s.collapse&&this.bind("init",function(e){n("."+o.divider,e).each(function(){var e=n(this);e.nextUntil("."+o.divider,"."+o.collapsed).length&&(e.children("."+o.subopen).length||(e.wrapInner("<span />"),e.prepend('<a href="#" class="'+o.subopen+" "+o.fullsubopen+'" />')))})}),s.fixed){var t=function(e){if((e=e||this.$pnls.children("."+o.current)).find("."+o.divider).not("."+o.hidden).length){this.$menu.addClass(o.hasdividers);var t=e.scrollTop()||0,i="";e.is(":visible")&&e.find("."+o.divider).not("."+o.hidden).each(function(){n(this).position().top+t<t+1&&(i=n(this).text())}),this.$fixeddivider.text(i)}else this.$menu.removeClass(o.hasdividers)};this.$fixeddivider=n('<ul class="'+o.listview+" "+o.fixeddivider+'"><li class="'+o.divider+'"></li></ul>').prependTo(this.$pnls).children(),this.bind("openPanel",t),this.bind("update",t),this.bind("init",function(e){e.off(a.scroll+"-dividers "+a.touchmove+"-dividers").on(a.scroll+"-dividers "+a.touchmove+"-dividers",function(e){t.call(i,n(this))})})}},add:function(){o=n[e]._c,n[e]._d,a=n[e]._e,o.add("collapsed uncollapsed fixeddivider hasdividers"),a.add("scroll")},clickAnchor:function(e,t){if(this.opts[r].collapse&&t){var i=e.parent();if(i.is("."+o.divider)){var s=i.nextUntil("."+o.divider,"."+o.collapsed);return i.toggleClass(o.opened),s[i.hasClass(o.opened)?"addClass":"removeClass"](o.uncollapsed),!0}}return!1}},n[e].defaults[r]={add:!1,addTo:"panels",fixed:!1,collapse:!1},n[e].configuration.classNames[r]={collapsed:"Collapsed"}}(jQuery),function(o){var a,r="mmenu",l="iconPanels";o[r].addons[l]={setup:function(){var t=this,i=this.opts[l];if(this.conf[l],o[r].glbl,"boolean"==typeof i&&(i={add:i}),"number"==typeof i&&(i={add:!0,visible:i}),"object"!=typeof i&&(i={}),(i=this.opts[l]=o.extend(!0,{},o[r].defaults[l],i)).visible++,i.add){this.$menu.addClass(a.iconpanel);for(var s=[],e=0;e<=i.visible;e++)s.push(a.iconpanel+"-"+e);s=s.join(" ");var n=function(e){e.hasClass(a.vertical)||t.$pnls.children("."+a.panel).removeClass(s).filter("."+a.subopened).removeClass(a.hidden).add(e).not("."+a.vertical).slice(-i.visible).each(function(e){o(this).addClass(a.iconpanel+"-"+e)})};this.bind("openPanel",n),this.bind("init",function(e){n.call(t,t.$pnls.children("."+a.current)),i.hideNavbars&&e.removeClass(a.hasnavbar),e.not("."+a.vertical).each(function(){o(this).children("."+a.subblocker).length||o(this).prepend('<a href="#'+o(this).closest("."+a.panel).attr("id")+'" class="'+a.subblocker+'" />')})})}},add:function(){a=o[r]._c,o[r]._d,o[r]._e,a.add("iconpanel subblocker")},clickAnchor:function(e,t){}},o[r].defaults[l]={add:!1,visible:3,hideNavbars:!1}}(jQuery),function(h){var f,v="mmenu",m="navbars";h[v].addons[m]={setup:function(){var d=this,c=this.opts[m],p=this.conf[m];if(h[v].glbl,void 0!==c){c instanceof Array||(c=[c]);var u={};for(var e in h.each(c,function(e){var t=c[e];"boolean"==typeof t&&t&&(t={}),"object"!=typeof t&&(t={}),void 0===t.content&&(t.content=["prev","title"]),t.content instanceof Array||(t.content=[t.content]);var i=(t=h.extend(!0,{},d.opts.navbar,t)).position,s=t.height;"number"!=typeof s&&(s=1),s=Math.min(4,Math.max(1,s)),"bottom"!=i&&(i="top"),u[i]||(u[i]=0),u[i]++;var n=h("<div />").addClass(f.navbar+" "+f.navbar+"-"+i+" "+f.navbar+"-"+i+"-"+u[i]+" "+f.navbar+"-size-"+s);u[i]+=s-1;for(var o=0,a=0,r=t.content.length;a<r;a++){var l=h[v].addons[m][t.content[a]]||!1;l?o+=l.call(d,n,t,p):((l=t.content[a])instanceof h||(l=h(t.content[a])),n.append(l))}1<(o+=Math.ceil(n.children().not("."+f.btn).not("."+f.title+"-prev").length/s))&&n.addClass(f.navbar+"-content-"+o),n.children("."+f.btn).length&&n.addClass(f.hasbtns),n.prependTo(d.$menu)}),u)d.$menu.addClass(f.hasnavbar+"-"+e+"-"+u[e])}},add:function(){f=h[v]._c,h[v]._d,h[v]._e,f.add("close hasbtns")},clickAnchor:function(e,t){}},h[v].configuration[m]={breadcrumbSeparator:"/"},h[v].configuration.classNames[m]={}}(jQuery),function(d){var n="mmenu";d[n].addons.navbars.breadcrumbs=function(e,t,a){var r=d[n]._c,l=d[n]._d;r.add("breadcrumbs separator");var i=d('<span class="'+r.breadcrumbs+'" />').appendTo(e);this.bind("init",function(e){e.removeClass(r.hasnavbar).each(function(){for(var e=[],t=d(this),i=d('<span class="'+r.breadcrumbs+'"></span>'),s=d(this).children().first(),n=!0;s&&s.length;){s.is("."+r.panel)||(s=s.closest("."+r.panel));var o=s.children("."+r.navbar).children("."+r.title).text();e.unshift(n?"<span>"+o+"</span>":'<a href="#'+s.attr("id")+'">'+o+"</a>"),n=!1,s=s.data(l.parent)}i.append(e.join('<span class="'+r.separator+'">'+a.breadcrumbSeparator+"</span>")).appendTo(t.children("."+r.navbar))})});var s=function(){i.html(this.$pnls.children("."+r.current).children("."+r.navbar).children("."+r.breadcrumbs).html())};return this.bind("openPanel",s),this.bind("init",s),0}}(jQuery),function(a){var r="mmenu";a[r].addons.navbars.close=function(e,t){var i=a[r]._c,s=a[r].glbl,n=a('<a class="'+i.close+" "+i.btn+'" href="#" />').appendTo(e),o=function(e){n.attr("href","#"+e.attr("id"))};return o.call(this,s.$page),this.bind("setPage",o),-1}}(jQuery),function(r){var l="mmenu",d="navbars";r[l].addons[d].next=function(e,t){var i,s,n=r[l]._c,o=r('<a class="'+n.next+" "+n.btn+'" href="#" />').appendTo(e),a=function(e){var t=(e=e||this.$pnls.children("."+n.current)).find("."+this.conf.classNames[d].panelNext);i=t.attr("href"),s=t.html(),o[i?"attr":"removeAttr"]("href",i),o[i||s?"removeClass":"addClass"](n.hidden),o.html(s)};return this.bind("openPanel",a),this.bind("init",function(){a.call(this)}),-1},r[l].configuration.classNames[d].panelNext="Next"}(jQuery),function(r){var l="mmenu",d="navbars";r[l].addons[d].prev=function(e,t){var i=r[l]._c,s=r('<a class="'+i.prev+" "+i.btn+'" href="#" />').appendTo(e);this.bind("init",function(e){e.removeClass(i.hasnavbar).children("."+i.navbar).addClass(i.hidden)});var n,o,a=function(e){if(!(e=e||this.$pnls.children("."+i.current)).hasClass(i.vertical)){var t=e.find("."+this.conf.classNames[d].panelPrev);t.length||(t=e.children("."+i.navbar).children("."+i.prev)),n=t.attr("href"),o=t.html(),s[n?"attr":"removeAttr"]("href",n),s[n||o?"removeClass":"addClass"](i.hidden),s.html(o)}};return this.bind("openPanel",a),this.bind("init",function(){a.call(this)}),-1},r[l].configuration.classNames[d].panelPrev="Prev"}(jQuery),function(n){n.mmenu.addons.navbars.searchfield=function(e,t){var i=n.mmenu._c,s=n('<div class="'+i.search+'" />').appendTo(e);return"object"!=typeof this.opts.searchfield&&(this.opts.searchfield={}),this.opts.searchfield.add=!0,this.opts.searchfield.addTo=s,0}}(jQuery),function(r){var l="mmenu",d="navbars";r[l].addons[d].title=function(e,i){var s,n,o=r[l]._c,a=r('<a class="'+o.title+'" />').appendTo(e),t=function(e){if(!(e=e||this.$pnls.children("."+o.current)).hasClass(o.vertical)){var t=e.find("."+this.conf.classNames[d].panelTitle);t.length||(t=e.children("."+o.navbar).children("."+o.title)),s=t.attr("href"),n=t.html()||i.title,a[s?"attr":"removeAttr"]("href",s),a[s||n?"removeClass":"addClass"](o.hidden),a.html(n)}};return this.bind("openPanel",t),this.bind("init",function(e){t.call(this)}),0},r[l].configuration.classNames[d].panelTitle="Title"}(jQuery),function(f){var v,m,g,e="mmenu",b="searchfield";f[e].addons[b]={setup:function(){var u=this,h=this.opts[b],d=this.conf[b];f[e].glbl,"boolean"==typeof h&&(h={add:h}),"object"!=typeof h&&(h={}),"boolean"==typeof h.resultsPanel&&(h.resultsPanel={add:h.resultsPanel}),h=this.opts[b]=f.extend(!0,{},f[e].defaults[b],h),d=this.conf[b]=f.extend(!0,{},f[e].configuration[b],d),this.bind("close",function(){this.$menu.find("."+v.search).find("input").blur()}),this.bind("init",function(e){if(h.add){var t;switch(h.addTo){case"panels":t=e;break;default:t=this.$menu.find(h.addTo)}if(t.each(function(){var e=f(this);if(!e.is("."+v.panel)||!e.is("."+v.vertical)){if(!e.children("."+v.search).length){var t,i=u.__valueOrFn(d.clear,e),s=u.__valueOrFn(d.form,e),n=u.__valueOrFn(d.input,e),o=u.__valueOrFn(d.submit,e),a=f("<"+(s?"form":"div")+' class="'+v.search+'" />'),r=f('<input placeholder="'+h.placeholder+'" type="text" autocomplete="off" />');if(a.append(r),n)for(t in n)r.attr(t,n[t]);if(i&&f('<a class="'+v.btn+" "+v.clear+'" href="#" />').appendTo(a).on(g.click+"-searchfield",function(e){e.preventDefault(),r.val("").trigger(g.keyup+"-searchfield")}),s){for(t in s)a.attr(t,s[t]);o&&!i&&f('<a class="'+v.btn+" "+v.next+'" href="#" />').appendTo(a).on(g.click+"-searchfield",function(e){e.preventDefault(),a.submit()})}e.hasClass(v.search)?e.replaceWith(a):e.prepend(a).addClass(v.hassearch)}if(h.noResults)if(e.closest("."+v.panel).length||(e=u.$pnls.children("."+v.panel).first()),!e.children("."+v.noresultsmsg).length){var l=e.children("."+v.listview).first();f('<div class="'+v.noresultsmsg+" "+v.hidden+'" />').append(h.noResults)[l.length?"insertAfter":"prependTo"](l.length?l:e)}}}),h.search){if(h.resultsPanel.add){h.showSubPanels=!1;var p=this.$pnls.children("."+v.resultspanel);p.length||(p=f('<div class="'+v.panel+" "+v.resultspanel+" "+v.hidden+'" />').appendTo(this.$pnls).append('<div class="'+v.navbar+" "+v.hidden+'"><a class="'+v.title+'">'+h.resultsPanel.title+"</a></div>").append('<ul class="'+v.listview+'" />').append(this.$pnls.find("."+v.noresultsmsg).first().clone()),this.init(p))}this.$menu.find("."+v.search).each(function(){var i,s,e=f(this),n=e.closest("."+v.panel).length;s=n?i=e.closest("."+v.panel):(i=f("."+v.panel,u.$menu),u.$menu),h.resultsPanel.add&&(i=i.not(p));var o=e.children("input"),t=u.__findAddBack(i,"."+v.listview).children("li"),a=t.filter("."+v.divider),r=u.__filterListItems(t),l="",d=function(){var e=o.val().toLowerCase();if(e!=l){if(l=e,h.resultsPanel.add&&p.children("."+v.listview).empty(),i.scrollTop(0),r.add(a).addClass(v.hidden).find("."+v.fullsubopensearch).removeClass(v.fullsubopen+" "+v.fullsubopensearch),r.each(function(){var e=f(this),t="a";(h.showTextItems||h.showSubPanels&&e.find("."+v.next))&&(t="a, span"),-1<(e.data(m.searchtext)||e.children(t).text()).toLowerCase().indexOf(l)&&e.add(e.prevAll("."+v.divider).first()).removeClass(v.hidden)}),h.showSubPanels&&i.each(function(e){var t=f(this);u.__filterListItems(t.find("."+v.listview).children()).each(function(){var e=f(this),t=e.data(m.sub);e.removeClass(v.nosubresults),t&&t.find("."+v.listview).children().removeClass(v.hidden)})}),h.resultsPanel.add)if(""===l)this.closeAllPanels(),this.openPanel(this.$pnls.children("."+v.subopened).last());else{var t=f();i.each(function(){var e=u.__filterListItems(f(this).find("."+v.listview).children()).not("."+v.hidden).clone(!0);e.length&&(h.resultsPanel.dividers&&(t=t.add('<li class="'+v.divider+'">'+f(this).children("."+v.navbar).text()+"</li>")),t=t.add(e))}),t.find("."+v.next).remove(),p.children("."+v.listview).append(t),this.openPanel(p)}else f(i.get().reverse()).each(function(e){var t=f(this),i=t.data(m.parent);i&&(u.__filterListItems(t.find("."+v.listview).children()).length?(i.hasClass(v.hidden)&&i.children("."+v.next).not("."+v.fullsubopen).addClass(v.fullsubopen).addClass(v.fullsubopensearch),i.removeClass(v.hidden).removeClass(v.nosubresults).prevAll("."+v.divider).first().removeClass(v.hidden)):n||(t.hasClass(v.opened)&&setTimeout(function(){u.openPanel(i.closest("."+v.panel))},(e+1)*(1.5*u.conf.openingInterval)),i.addClass(v.nosubresults)))});s.find("."+v.noresultsmsg)[r.not("."+v.hidden).length?"addClass":"removeClass"](v.hidden),this.update()}};o.off(g.keyup+"-"+b+" "+g.change+"-"+b).on(g.keyup+"-"+b,function(e){(function(e){switch(e){case 9:case 16:case 17:case 18:case 37:case 38:case 39:case 40:return!0}return!1})(e.keyCode)||d.call(u)}).on(g.change+"-"+b,function(e){d.call(u)});var c=e.children("."+v.btn);c.length&&o.on(g.keyup+"-"+b,function(e){c[o.val().length?"removeClass":"addClass"](v.hidden)}),o.trigger(g.keyup+"-"+b)})}}})},add:function(){v=f[e]._c,m=f[e]._d,g=f[e]._e,v.add("clear search hassearch resultspanel noresultsmsg noresults nosubresults fullsubopensearch"),m.add("searchtext"),g.add("change keyup")},clickAnchor:function(e,t){}},f[e].defaults[b]={add:!1,addTo:"panels",placeholder:"Search",noResults:"No results found.",resultsPanel:{add:!1,dividers:!0,title:"Search results"},search:!0,showTextItems:!1,showSubPanels:!0},f[e].configuration[b]={clear:!1,form:!1,input:!1,submit:!1}}(jQuery),jQuery(document).ready(function(s){"use strict";s(document).on("click","a.list-creator",function(e){e.preventDefault();var i=s(this).attr("href");Hametuha.modal.open(s(this).attr("title"),function(t){s.get(i,{},function(e){t.removeClass("loading"),t.find(".modal-body").html(e.html)})})}),s(document).on("submit",".list-create-form",function(e){e.preventDefault();var t=s(this);t.addClass("loading"),t.ajaxSubmit({success:function(e){e.success?t.trigger("created.hametuha",[e.post]):Hametuha.alert(e.message,!0),t.find("input[type=submit]").attr("disabled",!1),t.removeClass("loading")}})}),s(".modal").on("created.hametuha",".list-create-form",function(e,t){Hametuha.modal.close(),Hametuha.ga.hitEvent("list","add",t.ID),s("body").hasClass("single-lists")&&location.reload()}),s(document).on("submit",".list-save-manager",function(e){e.preventDefault();var i=s(this);i.addClass("loading"),i.ajaxSubmit({success:function(e){i.find("input[type=submit]").attr("disabled",!1),i.removeClass("loading");var t=s('<div class="alert alert-dismissible" role="alert"><button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">閉じる</span></button></div>');t.addClass("alert-"+(e.success?"success":"danger")).append("<span>"+e.message+"</span>"),i.prepend(t),setTimeout(function(){t.find("button").trigger("click")},5e3)}})}),s(document).on("click",".list-eraser",function(e){e.preventDefault(),Hametuha.confirm(s(this).attr("title"),function(){s.post(s(this).attr("href"),function(e){Hametuha.alert(e.message),e.success&&s("body").hasClass("single-lists")&&(window.location.href=e.url)})},!0)});var i=s("#my-list-deleter");i.length&&(s("ol.media-list > li").each(function(e,t){s(t).find(".list-inline").append(i.render({postId:s(t).attr("data-post-id")}))}),s("ol.media-list").on("click",".deregister-button",function(e){e.preventDefault();var t=s(this);Hametuha.confirm("リストからこの作品を削除します。この操作は取り消せませんが、よろしいですか？",function(){s.post(t.attr("href"),{},function(e){e.success?(t.parents("li.media").remove(),s("ol.media-list > li").length||(s("ol.media-list").before('<div class="alert alert-danger">'+e.message+"</div>"),setTimeout(function(){window.location.href=e.home_url},3e3))):Hametuha.alert(e.message,!0)})},!0)}))}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(d){"use strict";var n,a=window.Slick||{};n=0,(a=function(e,t){var i,s=this;s.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:d(e),appendDots:d(e),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return'<button type="button" data-role="none" role="button" aria-required="false" tabindex="0">'+(t+1)+"</button>"},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!1,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},s.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},d.extend(s,s.initials),s.activeBreakpoint=null,s.animType=null,s.animProp=null,s.breakpoints=[],s.breakpointSettings=[],s.cssTransitions=!1,s.hidden="hidden",s.paused=!1,s.positionProp=null,s.respondTo=null,s.rowCount=1,s.shouldClick=!0,s.$slider=d(e),s.$slidesCache=null,s.transformType=null,s.transitionType=null,s.visibilityChange="visibilitychange",s.windowWidth=0,s.windowTimer=null,i=d(e).data("slick")||{},s.options=d.extend({},s.defaults,i,t),s.currentSlide=s.options.initialSlide,s.originalSettings=s.options,void 0!==document.mozHidden?(s.hidden="mozHidden",s.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(s.hidden="webkitHidden",s.visibilityChange="webkitvisibilitychange"),s.autoPlay=d.proxy(s.autoPlay,s),s.autoPlayClear=d.proxy(s.autoPlayClear,s),s.changeSlide=d.proxy(s.changeSlide,s),s.clickHandler=d.proxy(s.clickHandler,s),s.selectHandler=d.proxy(s.selectHandler,s),s.setPosition=d.proxy(s.setPosition,s),s.swipeHandler=d.proxy(s.swipeHandler,s),s.dragHandler=d.proxy(s.dragHandler,s),s.keyHandler=d.proxy(s.keyHandler,s),s.autoPlayIterator=d.proxy(s.autoPlayIterator,s),s.instanceUid=n++,s.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,s.registerBreakpoints(),s.init(!0),s.checkResponsive(!0)}).prototype.addSlide=a.prototype.slickAdd=function(e,t,i){var s=this;if("boolean"==typeof t)i=t,t=null;else if(t<0||t>=s.slideCount)return!1;s.unload(),"number"==typeof t?0===t&&0===s.$slides.length?d(e).appendTo(s.$slideTrack):i?d(e).insertBefore(s.$slides.eq(t)):d(e).insertAfter(s.$slides.eq(t)):!0===i?d(e).prependTo(s.$slideTrack):d(e).appendTo(s.$slideTrack),s.$slides=s.$slideTrack.children(this.options.slide),s.$slideTrack.children(this.options.slide).detach(),s.$slideTrack.append(s.$slides),s.$slides.each(function(e,t){d(t).attr("data-slick-index",e)}),s.$slidesCache=s.$slides,s.reinit()},a.prototype.animateHeight=function(){var e=this;if(1===e.options.slidesToShow&&!0===e.options.adaptiveHeight&&!1===e.options.vertical){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.animate({height:t},e.options.speed)}},a.prototype.animateSlide=function(e,t){var i={},s=this;s.animateHeight(),!0===s.options.rtl&&!1===s.options.vertical&&(e=-e),!1===s.transformsEnabled?!1===s.options.vertical?s.$slideTrack.animate({left:e},s.options.speed,s.options.easing,t):s.$slideTrack.animate({top:e},s.options.speed,s.options.easing,t):!1===s.cssTransitions?(!0===s.options.rtl&&(s.currentLeft=-s.currentLeft),d({animStart:s.currentLeft}).animate({animStart:e},{duration:s.options.speed,easing:s.options.easing,step:function(e){e=Math.ceil(e),!1===s.options.vertical?i[s.animType]="translate("+e+"px, 0px)":i[s.animType]="translate(0px,"+e+"px)",s.$slideTrack.css(i)},complete:function(){t&&t.call()}})):(s.applyTransition(),e=Math.ceil(e),!1===s.options.vertical?i[s.animType]="translate3d("+e+"px, 0px, 0px)":i[s.animType]="translate3d(0px,"+e+"px, 0px)",s.$slideTrack.css(i),t&&setTimeout(function(){s.disableTransition(),t.call()},s.options.speed))},a.prototype.asNavFor=function(t){var e=this.options.asNavFor;e&&null!==e&&(e=d(e).not(this.$slider)),null!==e&&"object"==typeof e&&e.each(function(){var e=d(this).slick("getSlick");e.unslicked||e.slideHandler(t,!0)})},a.prototype.applyTransition=function(e){var t=this,i={};!1===t.options.fade?i[t.transitionType]=t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:i[t.transitionType]="opacity "+t.options.speed+"ms "+t.options.cssEase,!1===t.options.fade?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},a.prototype.autoPlay=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer),e.slideCount>e.options.slidesToShow&&!0!==e.paused&&(e.autoPlayTimer=setInterval(e.autoPlayIterator,e.options.autoplaySpeed))},a.prototype.autoPlayClear=function(){this.autoPlayTimer&&clearInterval(this.autoPlayTimer)},a.prototype.autoPlayIterator=function(){var e=this;!1===e.options.infinite?1===e.direction?(e.currentSlide+1===e.slideCount-1&&(e.direction=0),e.slideHandler(e.currentSlide+e.options.slidesToScroll)):(e.currentSlide-1==0&&(e.direction=1),e.slideHandler(e.currentSlide-e.options.slidesToScroll)):e.slideHandler(e.currentSlide+e.options.slidesToScroll)},a.prototype.buildArrows=function(){var e=this;!0===e.options.arrows&&(e.$prevArrow=d(e.options.prevArrow).addClass("slick-arrow"),e.$nextArrow=d(e.options.nextArrow).addClass("slick-arrow"),e.slideCount>e.options.slidesToShow?(e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.prependTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),!0!==e.options.infinite&&e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},a.prototype.buildDots=function(){var e,t,i=this;if(!0===i.options.dots&&i.slideCount>i.options.slidesToShow){for(t='<ul class="'+i.options.dotsClass+'">',e=0;e<=i.getDotCount();e+=1)t+="<li>"+i.options.customPaging.call(this,i,e)+"</li>";t+="</ul>",i.$dots=d(t).appendTo(i.options.appendDots),i.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}},a.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,t){d(t).attr("data-slick-index",e).data("originalStyling",d(t).attr("style")||"")}),e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?d('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),!0!==e.options.centerMode&&!0!==e.options.swipeToSlide||(e.options.slidesToScroll=1),d("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),!0===e.options.draggable&&e.$list.addClass("draggable")},a.prototype.buildRows=function(){var e,t,i,s,n,o,a,r=this;if(s=document.createDocumentFragment(),o=r.$slider.children(),1<r.options.rows){for(a=r.options.slidesPerRow*r.options.rows,n=Math.ceil(o.length/a),e=0;e<n;e++){var l=document.createElement("div");for(t=0;t<r.options.rows;t++){var d=document.createElement("div");for(i=0;i<r.options.slidesPerRow;i++){var c=e*a+(t*r.options.slidesPerRow+i);o.get(c)&&d.appendChild(o.get(c))}l.appendChild(d)}s.appendChild(l)}r.$slider.html(s),r.$slider.children().children().children().css({width:100/r.options.slidesPerRow+"%",display:"inline-block"})}},a.prototype.checkResponsive=function(e,t){var i,s,n,o=this,a=!1,r=o.$slider.width(),l=window.innerWidth||d(window).width();if("window"===o.respondTo?n=l:"slider"===o.respondTo?n=r:"min"===o.respondTo&&(n=Math.min(l,r)),o.options.responsive&&o.options.responsive.length&&null!==o.options.responsive){for(i in s=null,o.breakpoints)o.breakpoints.hasOwnProperty(i)&&(!1===o.originalSettings.mobileFirst?n<o.breakpoints[i]&&(s=o.breakpoints[i]):n>o.breakpoints[i]&&(s=o.breakpoints[i]));null!==s?null!==o.activeBreakpoint?(s!==o.activeBreakpoint||t)&&(o.activeBreakpoint=s,"unslick"===o.breakpointSettings[s]?o.unslick(s):(o.options=d.extend({},o.originalSettings,o.breakpointSettings[s]),!0===e&&(o.currentSlide=o.options.initialSlide),o.refresh(e)),a=s):(o.activeBreakpoint=s,"unslick"===o.breakpointSettings[s]?o.unslick(s):(o.options=d.extend({},o.originalSettings,o.breakpointSettings[s]),!0===e&&(o.currentSlide=o.options.initialSlide),o.refresh(e)),a=s):null!==o.activeBreakpoint&&(o.activeBreakpoint=null,o.options=o.originalSettings,!0===e&&(o.currentSlide=o.options.initialSlide),o.refresh(e),a=s),e||!1===a||o.$slider.trigger("breakpoint",[o,a])}},a.prototype.changeSlide=function(e,t){var i,s,n=this,o=d(e.target);switch(o.is("a")&&e.preventDefault(),o.is("li")||(o=o.closest("li")),i=n.slideCount%n.options.slidesToScroll!=0?0:(n.slideCount-n.currentSlide)%n.options.slidesToScroll,e.data.message){case"previous":s=0===i?n.options.slidesToScroll:n.options.slidesToShow-i,n.slideCount>n.options.slidesToShow&&n.slideHandler(n.currentSlide-s,!1,t);break;case"next":s=0===i?n.options.slidesToScroll:i,n.slideCount>n.options.slidesToShow&&n.slideHandler(n.currentSlide+s,!1,t);break;case"index":var a=0===e.data.index?0:e.data.index||o.index()*n.options.slidesToScroll;n.slideHandler(n.checkNavigable(a),!1,t),o.children().trigger("focus");break;default:return}},a.prototype.checkNavigable=function(e){var t,i;if(i=0,e>(t=this.getNavigableIndexes())[t.length-1])e=t[t.length-1];else for(var s in t){if(e<t[s]){e=i;break}i=t[s]}return e},a.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&(d("li",e.$dots).off("click.slick",e.changeSlide),!0===e.options.pauseOnDotsHover&&!0===e.options.autoplay&&d("li",e.$dots).off("mouseenter.slick",d.proxy(e.setPaused,e,!0)).off("mouseleave.slick",d.proxy(e.setPaused,e,!1))),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide)),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),d(document).off(e.visibilityChange,e.visibility),e.$list.off("mouseenter.slick",d.proxy(e.setPaused,e,!0)),e.$list.off("mouseleave.slick",d.proxy(e.setPaused,e,!1)),!0===e.options.accessibility&&e.$list.off("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&d(e.$slideTrack).children().off("click.slick",e.selectHandler),d(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),d(window).off("resize.slick.slick-"+e.instanceUid,e.resize),d("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),d(window).off("load.slick.slick-"+e.instanceUid,e.setPosition),d(document).off("ready.slick.slick-"+e.instanceUid,e.setPosition)},a.prototype.cleanUpRows=function(){var e;1<this.options.rows&&((e=this.$slides.children().children()).removeAttr("style"),this.$slider.html(e))},a.prototype.clickHandler=function(e){!1===this.shouldClick&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())},a.prototype.destroy=function(e){var t=this;t.autoPlayClear(),t.touchObject={},t.cleanUpEvents(),d(".slick-cloned",t.$slider).detach(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.$prevArrow.length&&(t.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove()),t.$nextArrow&&t.$nextArrow.length&&(t.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove()),t.$slides&&(t.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){d(this).attr("style",d(this).data("originalStyling"))}),t.$slideTrack.children(this.options.slide).detach(),t.$slideTrack.detach(),t.$list.detach(),t.$slider.append(t.$slides)),t.cleanUpRows(),t.$slider.removeClass("slick-slider"),t.$slider.removeClass("slick-initialized"),t.unslicked=!0,e||t.$slider.trigger("destroy",[t])},a.prototype.disableTransition=function(e){var t={};t[this.transitionType]="",!1===this.options.fade?this.$slideTrack.css(t):this.$slides.eq(e).css(t)},a.prototype.fadeSlide=function(e,t){var i=this;!1===i.cssTransitions?(i.$slides.eq(e).css({zIndex:i.options.zIndex}),i.$slides.eq(e).animate({opacity:1},i.options.speed,i.options.easing,t)):(i.applyTransition(e),i.$slides.eq(e).css({opacity:1,zIndex:i.options.zIndex}),t&&setTimeout(function(){i.disableTransition(e),t.call()},i.options.speed))},a.prototype.fadeSlideOut=function(e){var t=this;!1===t.cssTransitions?t.$slides.eq(e).animate({opacity:0,zIndex:t.options.zIndex-2},t.options.speed,t.options.easing):(t.applyTransition(e),t.$slides.eq(e).css({opacity:0,zIndex:t.options.zIndex-2}))},a.prototype.filterSlides=a.prototype.slickFilter=function(e){var t=this;null!==e&&(t.$slidesCache=t.$slides,t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.filter(e).appendTo(t.$slideTrack),t.reinit())},a.prototype.getCurrent=a.prototype.slickCurrentSlide=function(){return this.currentSlide},a.prototype.getDotCount=function(){var e=this,t=0,i=0,s=0;if(!0===e.options.infinite)for(;t<e.slideCount;)++s,t=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else if(!0===e.options.centerMode)s=e.slideCount;else for(;t<e.slideCount;)++s,t=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return s-1},a.prototype.getLeft=function(e){var t,i,s,n=this,o=0;return n.slideOffset=0,i=n.$slides.first().outerHeight(!0),!0===n.options.infinite?(n.slideCount>n.options.slidesToShow&&(n.slideOffset=n.slideWidth*n.options.slidesToShow*-1,o=i*n.options.slidesToShow*-1),n.slideCount%n.options.slidesToScroll!=0&&e+n.options.slidesToScroll>n.slideCount&&n.slideCount>n.options.slidesToShow&&(o=e>n.slideCount?(n.slideOffset=(n.options.slidesToShow-(e-n.slideCount))*n.slideWidth*-1,(n.options.slidesToShow-(e-n.slideCount))*i*-1):(n.slideOffset=n.slideCount%n.options.slidesToScroll*n.slideWidth*-1,n.slideCount%n.options.slidesToScroll*i*-1))):e+n.options.slidesToShow>n.slideCount&&(n.slideOffset=(e+n.options.slidesToShow-n.slideCount)*n.slideWidth,o=(e+n.options.slidesToShow-n.slideCount)*i),n.slideCount<=n.options.slidesToShow&&(o=n.slideOffset=0),!0===n.options.centerMode&&!0===n.options.infinite?n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)-n.slideWidth:!0===n.options.centerMode&&(n.slideOffset=0,n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)),t=!1===n.options.vertical?e*n.slideWidth*-1+n.slideOffset:e*i*-1+o,!0===n.options.variableWidth&&(s=n.slideCount<=n.options.slidesToShow||!1===n.options.infinite?n.$slideTrack.children(".slick-slide").eq(e):n.$slideTrack.children(".slick-slide").eq(e+n.options.slidesToShow),t=!0===n.options.rtl?s[0]?-1*(n.$slideTrack.width()-s[0].offsetLeft-s.width()):0:s[0]?-1*s[0].offsetLeft:0,!0===n.options.centerMode&&(s=n.slideCount<=n.options.slidesToShow||!1===n.options.infinite?n.$slideTrack.children(".slick-slide").eq(e):n.$slideTrack.children(".slick-slide").eq(e+n.options.slidesToShow+1),t=!0===n.options.rtl?s[0]?-1*(n.$slideTrack.width()-s[0].offsetLeft-s.width()):0:s[0]?-1*s[0].offsetLeft:0,t+=(n.$list.width()-s.outerWidth())/2)),t},a.prototype.getOption=a.prototype.slickGetOption=function(e){return this.options[e]},a.prototype.getNavigableIndexes=function(){var e,t=this,i=0,s=0,n=[];for(e=!1===t.options.infinite?t.slideCount:(i=-1*t.options.slidesToScroll,s=-1*t.options.slidesToScroll,2*t.slideCount);i<e;)n.push(i),i=s+t.options.slidesToScroll,s+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return n},a.prototype.getSlick=function(){return this},a.prototype.getSlideCount=function(){var i,s,n=this;return s=!0===n.options.centerMode?n.slideWidth*Math.floor(n.options.slidesToShow/2):0,!0===n.options.swipeToSlide?(n.$slideTrack.find(".slick-slide").each(function(e,t){if(t.offsetLeft-s+d(t).outerWidth()/2>-1*n.swipeLeft)return i=t,!1}),Math.abs(d(i).attr("data-slick-index")-n.currentSlide)||1):n.options.slidesToScroll},a.prototype.goTo=a.prototype.slickGoTo=function(e,t){this.changeSlide({data:{message:"index",index:parseInt(e)}},t)},a.prototype.init=function(e){var t=this;d(t.$slider).hasClass("slick-initialized")||(d(t.$slider).addClass("slick-initialized"),t.buildRows(),t.buildOut(),t.setProps(),t.startLoad(),t.loadSlider(),t.initializeEvents(),t.updateArrows(),t.updateDots()),e&&t.$slider.trigger("init",[t]),!0===t.options.accessibility&&t.initADA()},a.prototype.initArrowEvents=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.on("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.on("click.slick",{message:"next"},e.changeSlide))},a.prototype.initDotEvents=function(){var e=this;!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&d("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),!0===e.options.dots&&!0===e.options.pauseOnDotsHover&&!0===e.options.autoplay&&d("li",e.$dots).on("mouseenter.slick",d.proxy(e.setPaused,e,!0)).on("mouseleave.slick",d.proxy(e.setPaused,e,!1))},a.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),d(document).on(e.visibilityChange,d.proxy(e.visibility,e)),e.$list.on("mouseenter.slick",d.proxy(e.setPaused,e,!0)),e.$list.on("mouseleave.slick",d.proxy(e.setPaused,e,!1)),!0===e.options.accessibility&&e.$list.on("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&d(e.$slideTrack).children().on("click.slick",e.selectHandler),d(window).on("orientationchange.slick.slick-"+e.instanceUid,d.proxy(e.orientationChange,e)),d(window).on("resize.slick.slick-"+e.instanceUid,d.proxy(e.resize,e)),d("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),d(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),d(document).on("ready.slick.slick-"+e.instanceUid,e.setPosition)},a.prototype.initUI=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.show(),e.$nextArrow.show()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.show(),!0===e.options.autoplay&&e.autoPlay()},a.prototype.keyHandler=function(e){e.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===e.keyCode&&!0===this.options.accessibility?this.changeSlide({data:{message:"previous"}}):39===e.keyCode&&!0===this.options.accessibility&&this.changeSlide({data:{message:"next"}}))},a.prototype.lazyLoad=function(){var e,t,i=this;function s(e){d("img[data-lazy]",e).each(function(){var e=d(this),t=d(this).attr("data-lazy"),i=document.createElement("img");i.onload=function(){e.animate({opacity:0},100,function(){e.attr("src",t).animate({opacity:1},200,function(){e.removeAttr("data-lazy").removeClass("slick-loading")})})},i.src=t})}!0===i.options.centerMode?t=!0===i.options.infinite?(e=i.currentSlide+(i.options.slidesToShow/2+1))+i.options.slidesToShow+2:(e=Math.max(0,i.currentSlide-(i.options.slidesToShow/2+1)),i.options.slidesToShow/2+1+2+i.currentSlide):(t=(e=i.options.infinite?i.options.slidesToShow+i.currentSlide:i.currentSlide)+i.options.slidesToShow,!0===i.options.fade&&(0<e&&e--,t<=i.slideCount&&t++)),s(i.$slider.find(".slick-slide").slice(e,t)),i.slideCount<=i.options.slidesToShow?s(i.$slider.find(".slick-slide")):i.currentSlide>=i.slideCount-i.options.slidesToShow?s(i.$slider.find(".slick-cloned").slice(0,i.options.slidesToShow)):0===i.currentSlide&&s(i.$slider.find(".slick-cloned").slice(-1*i.options.slidesToShow))},a.prototype.loadSlider=function(){var e=this;e.setPosition(),e.$slideTrack.css({opacity:1}),e.$slider.removeClass("slick-loading"),e.initUI(),"progressive"===e.options.lazyLoad&&e.progressiveLazyLoad()},a.prototype.next=a.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},a.prototype.orientationChange=function(){this.checkResponsive(),this.setPosition()},a.prototype.pause=a.prototype.slickPause=function(){this.autoPlayClear(),this.paused=!0},a.prototype.play=a.prototype.slickPlay=function(){this.paused=!1,this.autoPlay()},a.prototype.postSlide=function(e){var t=this;t.$slider.trigger("afterChange",[t,e]),t.animating=!1,t.setPosition(),!(t.swipeLeft=null)===t.options.autoplay&&!1===t.paused&&t.autoPlay(),!0===t.options.accessibility&&t.initADA()},a.prototype.prev=a.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},a.prototype.preventDefault=function(e){e.preventDefault()},a.prototype.progressiveLazyLoad=function(){var e,t=this;0<d("img[data-lazy]",t.$slider).length&&((e=d("img[data-lazy]",t.$slider).first()).attr("src",null),e.attr("src",e.attr("data-lazy")).removeClass("slick-loading").load(function(){e.removeAttr("data-lazy"),t.progressiveLazyLoad(),!0===t.options.adaptiveHeight&&t.setPosition()}).error(function(){e.removeAttr("data-lazy"),t.progressiveLazyLoad()}))},a.prototype.refresh=function(e){var t,i,s=this;i=s.slideCount-s.options.slidesToShow,s.options.infinite||(s.slideCount<=s.options.slidesToShow?s.currentSlide=0:s.currentSlide>i&&(s.currentSlide=i)),t=s.currentSlide,s.destroy(!0),d.extend(s,s.initials,{currentSlide:t}),s.init(),e||s.changeSlide({data:{message:"index",index:t}},!1)},a.prototype.registerBreakpoints=function(){var e,t,i,s=this,n=s.options.responsive||null;if("array"===d.type(n)&&n.length){for(e in s.respondTo=s.options.respondTo||"window",n)if(i=s.breakpoints.length-1,t=n[e].breakpoint,n.hasOwnProperty(e)){for(;0<=i;)s.breakpoints[i]&&s.breakpoints[i]===t&&s.breakpoints.splice(i,1),i--;s.breakpoints.push(t),s.breakpointSettings[t]=n[e].settings}s.breakpoints.sort(function(e,t){return s.options.mobileFirst?e-t:t-e})}},a.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.checkResponsive(!1,!0),!0===e.options.focusOnSelect&&d(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses(0),e.setPosition(),e.$slider.trigger("reInit",[e]),!0===e.options.autoplay&&e.focusHandler()},a.prototype.resize=function(){var e=this;d(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=d(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},a.prototype.removeSlide=a.prototype.slickRemove=function(e,t,i){var s=this;if(e="boolean"==typeof e?!0===(t=e)?0:s.slideCount-1:!0===t?--e:e,s.slideCount<1||e<0||e>s.slideCount-1)return!1;s.unload(),!0===i?s.$slideTrack.children().remove():s.$slideTrack.children(this.options.slide).eq(e).remove(),s.$slides=s.$slideTrack.children(this.options.slide),s.$slideTrack.children(this.options.slide).detach(),s.$slideTrack.append(s.$slides),s.$slidesCache=s.$slides,s.reinit()},a.prototype.setCSS=function(e){var t,i,s=this,n={};!0===s.options.rtl&&(e=-e),t="left"==s.positionProp?Math.ceil(e)+"px":"0px",i="top"==s.positionProp?Math.ceil(e)+"px":"0px",n[s.positionProp]=e,!1===s.transformsEnabled||(!(n={})===s.cssTransitions?n[s.animType]="translate("+t+", "+i+")":n[s.animType]="translate3d("+t+", "+i+", 0px)"),s.$slideTrack.css(n)},a.prototype.setDimensions=function(){var e=this;!1===e.options.vertical?!0===e.options.centerMode&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),!0===e.options.centerMode&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),!1===e.options.vertical&&!1===e.options.variableWidth?(e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length))):!0===e.options.variableWidth?e.$slideTrack.width(5e3*e.slideCount):(e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length)));var t=e.$slides.first().outerWidth(!0)-e.$slides.first().width();!1===e.options.variableWidth&&e.$slideTrack.children(".slick-slide").width(e.slideWidth-t)},a.prototype.setFade=function(){var i,s=this;s.$slides.each(function(e,t){i=s.slideWidth*e*-1,!0===s.options.rtl?d(t).css({position:"relative",right:i,top:0,zIndex:s.options.zIndex-2,opacity:0}):d(t).css({position:"relative",left:i,top:0,zIndex:s.options.zIndex-2,opacity:0})}),s.$slides.eq(s.currentSlide).css({zIndex:s.options.zIndex-1,opacity:1})},a.prototype.setHeight=function(){var e=this;if(1===e.options.slidesToShow&&!0===e.options.adaptiveHeight&&!1===e.options.vertical){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.css("height",t)}},a.prototype.setOption=a.prototype.slickSetOption=function(e,t,i){var s,n,o=this;if("responsive"===e&&"array"===d.type(t))for(n in t)if("array"!==d.type(o.options.responsive))o.options.responsive=[t[n]];else{for(s=o.options.responsive.length-1;0<=s;)o.options.responsive[s].breakpoint===t[n].breakpoint&&o.options.responsive.splice(s,1),s--;o.options.responsive.push(t[n])}else o.options[e]=t;!0===i&&(o.unload(),o.reinit())},a.prototype.setPosition=function(){var e=this;e.setDimensions(),e.setHeight(),!1===e.options.fade?e.setCSS(e.getLeft(e.currentSlide)):e.setFade(),e.$slider.trigger("setPosition",[e])},a.prototype.setProps=function(){var e=this,t=document.body.style;e.positionProp=!0===e.options.vertical?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),void 0===t.WebkitTransition&&void 0===t.MozTransition&&void 0===t.msTransition||!0===e.options.useCSS&&(e.cssTransitions=!0),e.options.fade&&("number"==typeof e.options.zIndex?e.options.zIndex<3&&(e.options.zIndex=3):e.options.zIndex=e.defaults.zIndex),void 0!==t.OTransform&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(e.animType=!1)),void 0!==t.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.msTransform&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",void 0===t.msTransform&&(e.animType=!1)),void 0!==t.transform&&!1!==e.animType&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=e.options.useTransform&&null!==e.animType&&!1!==e.animType},a.prototype.setSlideClasses=function(e){var t,i,s,n,o=this;i=o.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),o.$slides.eq(e).addClass("slick-current"),!0===o.options.centerMode?(t=Math.floor(o.options.slidesToShow/2),!0===o.options.infinite&&(t<=e&&e<=o.slideCount-1-t?o.$slides.slice(e-t,e+t+1).addClass("slick-active").attr("aria-hidden","false"):(s=o.options.slidesToShow+e,i.slice(s-t+1,s+t+2).addClass("slick-active").attr("aria-hidden","false")),0===e?i.eq(i.length-1-o.options.slidesToShow).addClass("slick-center"):e===o.slideCount-1&&i.eq(o.options.slidesToShow).addClass("slick-center")),o.$slides.eq(e).addClass("slick-center")):0<=e&&e<=o.slideCount-o.options.slidesToShow?o.$slides.slice(e,e+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=o.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(n=o.slideCount%o.options.slidesToShow,s=!0===o.options.infinite?o.options.slidesToShow+e:e,o.options.slidesToShow==o.options.slidesToScroll&&o.slideCount-e<o.options.slidesToShow?i.slice(s-(o.options.slidesToShow-n),s+n).addClass("slick-active").attr("aria-hidden","false"):i.slice(s,s+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===o.options.lazyLoad&&o.lazyLoad()},a.prototype.setupInfinite=function(){var e,t,i,s=this;if(!0===s.options.fade&&(s.options.centerMode=!1),!0===s.options.infinite&&!1===s.options.fade&&(t=null,s.slideCount>s.options.slidesToShow)){for(i=!0===s.options.centerMode?s.options.slidesToShow+1:s.options.slidesToShow,e=s.slideCount;e>s.slideCount-i;e-=1)t=e-1,d(s.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t-s.slideCount).prependTo(s.$slideTrack).addClass("slick-cloned");for(e=0;e<i;e+=1)t=e,d(s.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t+s.slideCount).appendTo(s.$slideTrack).addClass("slick-cloned");s.$slideTrack.find(".slick-cloned").find("[id]").each(function(){d(this).attr("id","")})}},a.prototype.setPaused=function(e){var t=this;!0===t.options.autoplay&&!0===t.options.pauseOnHover&&((t.paused=e)?t.autoPlayClear():t.autoPlay())},a.prototype.selectHandler=function(e){var t=this,i=d(e.target).is(".slick-slide")?d(e.target):d(e.target).parents(".slick-slide"),s=parseInt(i.attr("data-slick-index"));if(s||(s=0),t.slideCount<=t.options.slidesToShow)return t.setSlideClasses(s),void t.asNavFor(s);t.slideHandler(s)},a.prototype.slideHandler=function(e,t,i){var s,n,o,a,r,l=this;if(t=t||!1,(!0!==l.animating||!0!==l.options.waitForAnimate)&&!(!0===l.options.fade&&l.currentSlide===e||l.slideCount<=l.options.slidesToShow))if(!1===t&&l.asNavFor(e),s=e,r=l.getLeft(s),a=l.getLeft(l.currentSlide),l.currentLeft=null===l.swipeLeft?a:l.swipeLeft,!1===l.options.infinite&&!1===l.options.centerMode&&(e<0||e>l.getDotCount()*l.options.slidesToScroll))!1===l.options.fade&&(s=l.currentSlide,!0!==i?l.animateSlide(a,function(){l.postSlide(s)}):l.postSlide(s));else if(!1===l.options.infinite&&!0===l.options.centerMode&&(e<0||e>l.slideCount-l.options.slidesToScroll))!1===l.options.fade&&(s=l.currentSlide,!0!==i?l.animateSlide(a,function(){l.postSlide(s)}):l.postSlide(s));else{if(!0===l.options.autoplay&&clearInterval(l.autoPlayTimer),n=s<0?l.slideCount%l.options.slidesToScroll!=0?l.slideCount-l.slideCount%l.options.slidesToScroll:l.slideCount+s:s>=l.slideCount?l.slideCount%l.options.slidesToScroll!=0?0:s-l.slideCount:s,l.animating=!0,l.$slider.trigger("beforeChange",[l,l.currentSlide,n]),o=l.currentSlide,l.currentSlide=n,l.setSlideClasses(l.currentSlide),l.updateDots(),l.updateArrows(),!0===l.options.fade)return!0!==i?(l.fadeSlideOut(o),l.fadeSlide(n,function(){l.postSlide(n)})):l.postSlide(n),void l.animateHeight();!0!==i?l.animateSlide(r,function(){l.postSlide(n)}):l.postSlide(n)}},a.prototype.startLoad=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading")},a.prototype.swipeDirection=function(){var e,t,i,s,n=this;return e=n.touchObject.startX-n.touchObject.curX,t=n.touchObject.startY-n.touchObject.curY,i=Math.atan2(t,e),(s=Math.round(180*i/Math.PI))<0&&(s=360-Math.abs(s)),s<=45&&0<=s?!1===n.options.rtl?"left":"right":s<=360&&315<=s?!1===n.options.rtl?"left":"right":135<=s&&s<=225?!1===n.options.rtl?"right":"left":!0===n.options.verticalSwiping?35<=s&&s<=135?"left":"right":"vertical"},a.prototype.swipeEnd=function(e){var t,i=this;if(i.dragging=!1,i.shouldClick=!(10<i.touchObject.swipeLength),void 0===i.touchObject.curX)return!1;if(!0===i.touchObject.edgeHit&&i.$slider.trigger("edge",[i,i.swipeDirection()]),i.touchObject.swipeLength>=i.touchObject.minSwipe)switch(i.swipeDirection()){case"left":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide+i.getSlideCount()):i.currentSlide+i.getSlideCount(),i.slideHandler(t),i.currentDirection=0,i.touchObject={},i.$slider.trigger("swipe",[i,"left"]);break;case"right":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide-i.getSlideCount()):i.currentSlide-i.getSlideCount(),i.slideHandler(t),i.currentDirection=1,i.touchObject={},i.$slider.trigger("swipe",[i,"right"])}else i.touchObject.startX!==i.touchObject.curX&&(i.slideHandler(i.currentSlide),i.touchObject={})},a.prototype.swipeHandler=function(e){var t=this;if(!(!1===t.options.swipe||"ontouchend"in document&&!1===t.options.swipe||!1===t.options.draggable&&-1!==e.type.indexOf("mouse")))switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,!0===t.options.verticalSwiping&&(t.touchObject.minSwipe=t.listHeight/t.options.touchThreshold),e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},a.prototype.swipeMove=function(e){var t,i,s,n,o,a=this;return o=void 0!==e.originalEvent?e.originalEvent.touches:null,!(!a.dragging||o&&1!==o.length)&&(t=a.getLeft(a.currentSlide),a.touchObject.curX=void 0!==o?o[0].pageX:e.clientX,a.touchObject.curY=void 0!==o?o[0].pageY:e.clientY,a.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(a.touchObject.curX-a.touchObject.startX,2))),!0===a.options.verticalSwiping&&(a.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(a.touchObject.curY-a.touchObject.startY,2)))),"vertical"!==(i=a.swipeDirection())?(void 0!==e.originalEvent&&4<a.touchObject.swipeLength&&e.preventDefault(),n=(!1===a.options.rtl?1:-1)*(a.touchObject.curX>a.touchObject.startX?1:-1),!0===a.options.verticalSwiping&&(n=a.touchObject.curY>a.touchObject.startY?1:-1),s=a.touchObject.swipeLength,(a.touchObject.edgeHit=!1)===a.options.infinite&&(0===a.currentSlide&&"right"===i||a.currentSlide>=a.getDotCount()&&"left"===i)&&(s=a.touchObject.swipeLength*a.options.edgeFriction,a.touchObject.edgeHit=!0),!1===a.options.vertical?a.swipeLeft=t+s*n:a.swipeLeft=t+s*(a.$list.height()/a.listWidth)*n,!0===a.options.verticalSwiping&&(a.swipeLeft=t+s*n),!0!==a.options.fade&&!1!==a.options.touchMove&&(!0===a.animating?(a.swipeLeft=null,!1):void a.setCSS(a.swipeLeft))):void 0)},a.prototype.swipeStart=function(e){var t,i=this;if(1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow)return!(i.touchObject={});void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==t?t.pageX:e.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==t?t.pageY:e.clientY,i.dragging=!0},a.prototype.unfilterSlides=a.prototype.slickUnfilter=function(){var e=this;null!==e.$slidesCache&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.appendTo(e.$slideTrack),e.reinit())},a.prototype.unload=function(){var e=this;d(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},a.prototype.unslick=function(e){this.$slider.trigger("unslick",[this,e]),this.destroy()},a.prototype.updateArrows=function(){var e=this;Math.floor(e.options.slidesToShow/2),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&!e.options.infinite&&(e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):e.currentSlide>=e.slideCount-e.options.slidesToShow&&!1===e.options.centerMode?(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):e.currentSlide>=e.slideCount-1&&!0===e.options.centerMode&&(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},a.prototype.updateDots=function(){var e=this;null!==e.$dots&&(e.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),e.$dots.find("li").eq(Math.floor(e.currentSlide/e.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))},a.prototype.visibility=function(){var e=this;document[e.hidden]?(e.paused=!0,e.autoPlayClear()):!0===e.options.autoplay&&(e.paused=!1,e.autoPlay())},a.prototype.initADA=function(){var t=this;t.$slides.add(t.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),t.$slideTrack.attr("role","listbox"),t.$slides.not(t.$slideTrack.find(".slick-cloned")).each(function(e){d(this).attr({role:"option","aria-describedby":"slick-slide"+t.instanceUid+e})}),null!==t.$dots&&t.$dots.attr("role","tablist").find("li").each(function(e){d(this).attr({role:"presentation","aria-selected":"false","aria-controls":"navigation"+t.instanceUid+e,id:"slick-slide"+t.instanceUid+e})}).first().attr("aria-selected","true").end().find("button").attr("role","button").end().closest("div").attr("role","toolbar"),t.activateADA()},a.prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},a.prototype.focusHandler=function(){var i=this;i.$slider.on("focus.slick blur.slick","*",function(e){e.stopImmediatePropagation();var t=d(this);setTimeout(function(){i.isPlay&&(t.is(":focus")?(i.autoPlayClear(),i.paused=!0):(i.paused=!1,i.autoPlay()))},0)})},d.fn.slick=function(){var e,t,i=this,s=arguments[0],n=Array.prototype.slice.call(arguments,1),o=i.length;for(e=0;e<o;e++)if("object"==typeof s||void 0===s?i[e].slick=new a(i[e],s):t=i[e].slick[s].apply(i[e].slick,n),void 0!==t)return t;return i}}),jQuery(document).ready(function(s){"use strict";s("nav#header-navigation").mmenu({iconPanels:!0,navbars:[!0,{position:"top",content:['<form class="mm-search" method="get" action="/"><input name="s" type="search" placeholder="サイト内を検索" /> </form>']}]},{offCanvas:{pageNodetype:"#whole-body"}}),s(".help-tip").tooltip({trigger:"hover focus click",container:"body"});var e=s("#profile-navi");if(e.length){var n={};for(var t in s("section","#your-profile").each(function(e,t){var i="profile-section-"+(e+1);s(t).attr("id",i),n[i]=s(t).find("h2, h3:first-child").text()}),n)n.hasOwnProperty(t)&&e.append('<li><a href="#'+t+'">'+n[t]+"</a></li>")}s(".write-panel-btn").click(function(e){e.preventDefault(),s("#write-panel").toggleClass("open")});var i=document.getElementById("header");i&&new Headroom(i,{onPin:function(){s("body").removeClass("header-hidden")},onUnpin:function(){s("body").addClass("header-hidden")}}).init()}),function(a){"use strict";a(document).on("keydown",".user-picker__input",function(e){if(13==e.keyCode)return e.preventDefault(),!1});var i,r=!1;a(document).on("keyup",".user-picker__input",function(e){if(!r){i&&clearTimeout(i);var t=a(this),s=t.parents(".user-picker"),n=t.next(".user-picker__placeholder"),o={};i=setTimeout(function(){r=!0,n.removeClass("empty").addClass("loading"),n.find(".user-picker__item").each(function(e,t){a(t).find(".user-picker__link.active").length||a(t).remove()}),a.ajax({url:wpApiSettings.root+"hametuha/v1/doujin/following/me/?s="+t.val(),method:"GET",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",wpApiSettings.nonce)}}).done(function(e){if(e.users.length){var i=s.attr("data-target");o.hasOwnProperty(i)||(o[i]=a.templates(i+"-template")),a.each(e.users,function(e,t){n.append(o[i].render(t))})}}).fail(function(e){var t=e.responseJSON?e.responseJSON.message:"失敗しました。";Hametuha.alert(t,!0)}).always(function(){n.removeClass("loading"),n.find(".user-picker__item").length||n.addClass("empty"),i=null,r=!1})},1e3)}}),a(document).on("click",".user-picker__link",function(e){e.preventDefault(),a(this).toggleClass("active");var t=a(this).parents(".user-picker"),i=[],s=parseInt(t.attr("data-max"),10);a(this).hasClass("active")||(a(this).parent("li").remove(),t.removeClass("filled")),t.find(".user-picker__link.active").each(function(e,t){i.push(a(t).attr("data-user-id"))}),s<=i.length&&(t.addClass("filled"),t.find(".user-picker__link:not(.active)").each(function(e,t){a(t).parent("li").remove()})),a(t.attr("data-target")).val(i.join(","))})}(jQuery);
//# sourceMappingURL=map/common.js.map
