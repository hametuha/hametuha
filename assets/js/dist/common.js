!function(e){"use strict";window.Hametuha={ga:{hitEvent:function(e,t,i,s,n){try{"undefined"==typeof s&&(s=1),ga("send",{hitType:"event",eventCategory:e,eventAction:t,eventLabel:i,eventValue:s,nonInteraction:!!n})}catch(o){}},eventOutbound:function(e,t,i,s,n,o){try{"undefined"==typeof o&&(o=1),ga("send",{hitType:"event",eventCategory:i,eventAction:s,eventLabel:n,eventValue:o,hitCallback:function(){Modernizr.touch?window.location.href=t:"share"===i?window.open(t,"outbound","width=520, height=350"):window.open(t,"outbound")}}),e.preventDefault()}catch(a){}}},str:{yakumono:/^[ 　【】《〔〝『「（”"'’\(\)]/,startYakumono:function(e){return this.yakumono.test(e)}},alert:function(t,i,s){var n,o,a;switch(void 0===s&&(s=7e3),i){case"info":case"danger":case"warning":n=i;break;case!0:case"error":n="danger";break;default:n="success"}o='<div class="alert alert-'+n+' alert-dismissible alert-sticky" role="alert"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>'+t+"</div>",a=e(o),e("body").append(a),setTimeout(function(){a.addClass("alert-sticky-on")},10),setTimeout(function(){a.remove()},s)},confirm:function(e,t,i){bootbox.dialog({title:"確認",message:e,buttons:{cancel:{label:"キャンセル",className:"btn-default"},ok:{label:i?"実行":"OK",className:i?"btn-danger":"btn-success",callback:t}}})},isTategaki:function(){return e("body").hasClass("tategaki")},template:function(e){return HametuhaGlobal.angularTemplateDir+e},models:{},views:{},collections:{},modal:{open:function(t,i){this.reset();var s=e("#hametu-modal");s.find(".modal-title").html(t),"function"==typeof i?(s.addClass("loading"),i(s)):s.find(".modal-body").html(i),s.modal("show")},close:function(){var t=e("#hametu-modal");this.reset(),t.modal("hide")},reset:function(){var t=e("#hametu-modal");t.find(".modal-title").html(""),t.find(".modal-body").html("")}}}}(jQuery),function(e){"use strict";e(document).on("click",".anpi-new",function(t){t.preventDefault(),Hametuha.modal.open("安否報告",function(t){e.post("/anpi/mine/new/").done(function(e){t.removeClass("loading").find(".modal-body").append(e.html)}).fail(function(e){var t=e.responseJSON?e.responseJSON.message:"失敗しました。";Hametuha.alert(t,!0),Hametuha.modal.close()})})}),e(document).on("submit","#new-tweet-form",function(t){t.preventDefault();var i,s,n=e(this).find("#new-tweet-id");s={content:e.trim(e(this).find("#new-anpi-content").val())},s.content.length&&(n.length?i="PUT":(i="POST",s.mention=e(this).find("#mention").val()),e.ajax({method:i,url:wpApiSettings.root+"hametuha/v1/anpi/new/",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",wpApiSettings.nonce)},data:s}).done(function(e){Hametuha.alert("めつかれさまでした。安否報告を受け付けました。")}).fail(function(e){var t=e.responseJSON?e.responseJSON.message:"失敗しました。";Hametuha.alert(t,!0)}).always(function(e){Hametuha.modal.close()}))})}(jQuery),function(e){"use strict";e(document).ready(function(){e(".ebookList__wrap").slick({infinite:!0,slidesToShow:6,slidesToScroll:3,dots:!0,speed:200,cssEase:"ease-in-out",autoplay:!0,autoplaySpeed:2e3,responsive:[{breakpoint:768,settings:{slidesToShow:3,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:2,slidesToScroll:1}}]})})}(jQuery),jQuery(document).ready(function(e){"use strict";window.Hametuha;e("form").submit(function(){e(this).find("input[type=submit]").attr("disabled",!0)}),e(".pseudo-uploader").each(function(t,i){var s=e(i).next("input");e(i).on("click",".btn",function(e){e.preventDefault(),s.trigger("click")}),s.change(function(t){var s=e(this).val().split("\\");e(i).find("input[type=text]").val(s[s.length-1])})}),e(".form-unlimiter").click(function(t){e(this).parents("form").find("input[type=submit]").prop("disabled",!e(this).attr("checked"))}),e("a[data-confirm], input[data-confirm]").click(function(t){return window.confirm(e(this).attr("data-confirm"))?void 0:!1}),e(".validator").submit(function(t){e(this).find("runtime-error").remove();var i=[];e(this).find(".required").each(function(t,s){if(!e(s).val()){e(s).addClass("erro");var n=e("label[for="+e(s).attr("id")+"]",this);n.length&&i.push(n.text()+"は必須項目です。")}}),i.length&&t.preventDefault()}),e(document).on("submit","#searchBox form",function(){var t=e(this).find("input[name=post_type]:checked");switch(t.val()){case"any":t.attr("checked",!1);break;case"author":e(this).attr("action",t.attr("data-search-action")),t.attr("checked",!1)}})}),function(e){"use strict";e(document).on("click","a[data-stock]",function(t){var i=e(this),s=i.attr("data-stock");t.preventDefault(),i.attr("disabled",!0),e.ajax({url:wpApiSettings.root+"hametuha/v1/idea/"+s+"/",method:"POST",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",wpApiSettings.nonce)}}).done(function(e){i.attr("data-stock",null).text("ストック済み"),Hametuha.alert("このアイデアをストックしました。")}).fail(function(e){var t=e.responseJSON?e.responseJSON.message:"失敗しました。";Hametuha.alert(t,!0),i.attr("disabled",!1)})}),e(document).on("click","a[data-recommend]",function(t){var i=e(this);i.attr("data-recommend");t.preventDefault(),Hametuha.modal.open("アイデアを薦める",function(t){e.post(i.attr("href")).done(function(e){t.removeClass("loading").find(".modal-body").append(e.html)}).fail(function(e){var t=e.responseJSON?e.responseJSON.message:"失敗しました。";Hametuha.alert(t,!0),Hametuha.modal.close()})})}),e(document).on("submit","#recommend-idea-form",function(t){t.preventDefault(),e.ajax({method:"PUT",url:wpApiSettings.root+"hametuha/v1/idea/"+e(this).attr("data-post-id")+"/",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",wpApiSettings.nonce)},data:{user_id:e(this).find("#recommend_to").val()}}).done(function(e){Hametuha.alert(e.message),Hametuha.modal.close()}).fail(function(e){var t=e.responseJSON?e.responseJSON.message:"失敗しました。";Hametuha.alert(t,!0)})}),e(document).on("click",'a[data-action="post-idea"]',function(t){t.preventDefault();var i=e(this);Hametuha.modal.open("アイデアを投稿する",function(t){e.post(i.attr("href")).done(function(e){t.removeClass("loading").find(".modal-body").append(e.html)}).fail(function(e){var t=e.responseJSON?e.responseJSON.message:"失敗しました。";Hametuha.alert(t,!0),Hametuha.modal.close()})})}),e(document).on("submit","#new-idea-form",function(t){t.preventDefault();var i,s,n="hametuha/v1/idea/mine/",o=e(this).find("#new-idea-id");s={title:e("#new-idea-name").val(),content:e("#new-idea-content").val(),status:e("#new-idea-privacy").attr("checked")?"private":"publish",genre:e("#new-idea-genre").val()},o.length?(i="PUT",s.post_id=o.val()):i="POST",e.ajax({method:i,url:wpApiSettings.root+n,beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",wpApiSettings.nonce)},data:s}).done(function(e){Hametuha.modal.close(),window.location.href===e.url?(Hametuha.alert(e.message+"3秒後にページを更新します……"),setTimeout(function(){window.location.reload()},3e3)):Hametuha.alert(e.message+'<a class="alert-link" href="'+e.url+'">アイデアのページヘ移動する</a>')}).fail(function(e){var t=e.responseJSON?e.responseJSON.message:"失敗しました。";Hametuha.alert(t,!0)})}),e(document).on("click",'a[data-action="delete-idea"]',function(t){t.preventDefault();var i=e(this).attr("data-post-id");Hametuha.confirm("このアイデアを削除してよろしいですか？",function(){e.ajax({method:"DELETE",url:wpApiSettings.root+"hametuha/v1/idea/mine/?post_id="+i,beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",wpApiSettings.nonce)}}).done(function(e){Hametuha.alert(e.message)}).fail(function(e){var t=e.responseJSON?e.responseJSON.message:"失敗しました。";Hametuha.alert(t,"danger")})},!0)}),e(document).on("click",'a[data-action="edit-idea"]',function(t){var i=e(this).attr("href");t.preventDefault(),Hametuha.modal.open("アイデアを編集する",function(t){e.post(i).done(function(e){t.removeClass("loading").find(".modal-body").append(e.html)}).fail(function(e){var t=e.responseJSON?e.responseJSON.message:"失敗しました。";Hametuha.alert(t,"danger"),Hametuha.modal.close()})})})}(jQuery),!function(e){function t(){e[i].glbl||(r={$wndw:e(window),$docu:e(document),$html:e("html"),$body:e("body")},n={},o={},a={},e.each([n,o,a],function(e,t){t.add=function(e){e=e.split(" ");for(var i=0,s=e.length;s>i;i++)t[e[i]]=t.mm(e[i])}}),n.mm=function(e){return"mm-"+e},n.add("wrapper menu panels panel nopanel current highest opened subopened navbar hasnavbar title btn prev next listview nolistview inset vertical selected divider spacer hidden fullsubopen"),n.umm=function(e){return"mm-"==e.slice(0,3)&&(e=e.slice(3)),e},o.mm=function(e){return"mm-"+e},o.add("parent sub"),a.mm=function(e){return e+".mm"},a.add("transitionend webkitTransitionEnd click scroll keydown mousedown mouseup touchstart touchmove touchend orientationchange"),e[i]._c=n,e[i]._d=o,e[i]._e=a,e[i].glbl=r)}var i="mmenu",s="5.6.3";if(!(e[i]&&e[i].version>s)){e[i]=function(e,t,i){this.$menu=e,this._api=["bind","init","update","setSelected","getInstance","openPanel","closePanel","closeAllPanels"],this.opts=t,this.conf=i,this.vars={},this.cbck={},"function"==typeof this.___deprecated&&this.___deprecated(),this._initMenu(),this._initAnchors();var s=this.$pnls.children();return this._initAddons(),this.init(s),"function"==typeof this.___debug&&this.___debug(),this},e[i].version=s,e[i].addons={},e[i].uniqueId=0,e[i].defaults={extensions:[],navbar:{add:!0,title:"Menu",titleLink:"panel"},onClick:{setSelected:!0},slidingSubmenus:!0},e[i].configuration={classNames:{divider:"Divider",inset:"Inset",panel:"Panel",selected:"Selected",spacer:"Spacer",vertical:"Vertical"},clone:!1,openingInterval:25,panelNodetype:"ul, ol, div",transitionDuration:400},e[i].prototype={init:function(e){e=e.not("."+n.nopanel),e=this._initPanels(e),this.trigger("init",e),this.trigger("update")},update:function(){this.trigger("update")},setSelected:function(e){this.$menu.find("."+n.listview).children().removeClass(n.selected),e.addClass(n.selected),this.trigger("setSelected",e)},openPanel:function(t){var s=t.parent(),o=this;if(s.hasClass(n.vertical)){var a=s.parents("."+n.subopened);if(a.length)return void this.openPanel(a.first());s.addClass(n.opened),this.trigger("openPanel",t),this.trigger("openingPanel",t),this.trigger("openedPanel",t)}else{if(t.hasClass(n.current))return;var r=this.$pnls.children("."+n.panel),l=r.filter("."+n.current);r.removeClass(n.highest).removeClass(n.current).not(t).not(l).not("."+n.vertical).addClass(n.hidden),e[i].support.csstransitions||l.addClass(n.hidden),t.hasClass(n.opened)?t.nextAll("."+n.opened).addClass(n.highest).removeClass(n.opened).removeClass(n.subopened):(t.addClass(n.highest),l.addClass(n.subopened)),t.removeClass(n.hidden).addClass(n.current),o.trigger("openPanel",t),setTimeout(function(){t.removeClass(n.subopened).addClass(n.opened),o.trigger("openingPanel",t),o.__transitionend(t,function(){o.trigger("openedPanel",t)},o.conf.transitionDuration)},this.conf.openingInterval)}},closePanel:function(e){var t=e.parent();t.hasClass(n.vertical)&&(t.removeClass(n.opened),this.trigger("closePanel",e),this.trigger("closingPanel",e),this.trigger("closedPanel",e))},closeAllPanels:function(){this.$menu.find("."+n.listview).children().removeClass(n.selected).filter("."+n.vertical).removeClass(n.opened);var e=this.$pnls.children("."+n.panel),t=e.first();this.$pnls.children("."+n.panel).not(t).removeClass(n.subopened).removeClass(n.opened).removeClass(n.current).removeClass(n.highest).addClass(n.hidden),this.openPanel(t)},togglePanel:function(e){var t=e.parent();t.hasClass(n.vertical)&&this[t.hasClass(n.opened)?"closePanel":"openPanel"](e)},getInstance:function(){return this},bind:function(e,t){this.cbck[e]=this.cbck[e]||[],this.cbck[e].push(t)},trigger:function(){var e=this,t=Array.prototype.slice.call(arguments),i=t.shift();if(this.cbck[i])for(var s=0,n=this.cbck[i].length;n>s;s++)this.cbck[i][s].apply(e,t)},_initMenu:function(){this.$menu.attr("id",this.$menu.attr("id")||this.__getUniqueId()),this.conf.clone&&(this.$menu=this.$menu.clone(!0),this.$menu.add(this.$menu.find("[id]")).filter("[id]").each(function(){e(this).attr("id",n.mm(e(this).attr("id")))})),this.$menu.contents().each(function(){3==e(this)[0].nodeType&&e(this).remove()}),this.$pnls=e('<div class="'+n.panels+'" />').append(this.$menu.children(this.conf.panelNodetype)).prependTo(this.$menu),this.$menu.parent().addClass(n.wrapper);var t=[n.menu];this.opts.slidingSubmenus||t.push(n.vertical),this.opts.extensions=this.opts.extensions.length?"mm-"+this.opts.extensions.join(" mm-"):"",this.opts.extensions&&t.push(this.opts.extensions),this.$menu.addClass(t.join(" "))},_initPanels:function(t){var i=this,s=this.__findAddBack(t,"ul, ol");this.__refactorClass(s,this.conf.classNames.inset,"inset").addClass(n.nolistview+" "+n.nopanel),s.not("."+n.nolistview).addClass(n.listview);var a=this.__findAddBack(t,"."+n.listview).children();this.__refactorClass(a,this.conf.classNames.selected,"selected"),this.__refactorClass(a,this.conf.classNames.divider,"divider"),this.__refactorClass(a,this.conf.classNames.spacer,"spacer"),this.__refactorClass(this.__findAddBack(t,"."+this.conf.classNames.panel),this.conf.classNames.panel,"panel");var r=e(),l=t.add(t.find("."+n.panel)).add(this.__findAddBack(t,"."+n.listview).children().children(this.conf.panelNodetype)).not("."+n.nopanel);this.__refactorClass(l,this.conf.classNames.vertical,"vertical"),this.opts.slidingSubmenus||l.addClass(n.vertical),l.each(function(){var t=e(this),s=t;t.is("ul, ol")?(t.wrap('<div class="'+n.panel+'" />'),s=t.parent()):s.addClass(n.panel);var o=t.attr("id");t.removeAttr("id"),s.attr("id",o||i.__getUniqueId()),t.hasClass(n.vertical)&&(t.removeClass(i.conf.classNames.vertical),s.add(s.parent()).addClass(n.vertical)),r=r.add(s)});var d=e("."+n.panel,this.$menu);r.each(function(t){var s,a,r=e(this),l=r.parent(),d=l.children("a, span").first();if(l.is("."+n.panels)||(l.data(o.sub,r),r.data(o.parent,l)),l.children("."+n.next).length||l.parent().is("."+n.listview)&&(s=r.attr("id"),a=e('<a class="'+n.next+'" href="#'+s+'" data-target="#'+s+'" />').insertBefore(d),d.is("span")&&a.addClass(n.fullsubopen)),!r.children("."+n.navbar).length&&!l.hasClass(n.vertical)){l.parent().is("."+n.listview)?l=l.closest("."+n.panel):(d=l.closest("."+n.panel).find('a[href="#'+r.attr("id")+'"]').first(),l=d.closest("."+n.panel));var c=e('<div class="'+n.navbar+'" />');if(l.length){switch(s=l.attr("id"),i.opts.navbar.titleLink){case"anchor":_url=d.attr("href");break;case"panel":case"parent":_url="#"+s;break;default:_url=!1}c.append('<a class="'+n.btn+" "+n.prev+'" href="#'+s+'" data-target="#'+s+'" />').append(e('<a class="'+n.title+'"'+(_url?' href="'+_url+'"':"")+" />").text(d.text())).prependTo(r),i.opts.navbar.add&&r.addClass(n.hasnavbar)}else i.opts.navbar.title&&(c.append('<a class="'+n.title+'">'+i.opts.navbar.title+"</a>").prependTo(r),i.opts.navbar.add&&r.addClass(n.hasnavbar))}});var c=this.__findAddBack(t,"."+n.listview).children("."+n.selected).removeClass(n.selected).last().addClass(n.selected);c.add(c.parentsUntil("."+n.menu,"li")).filter("."+n.vertical).addClass(n.opened).end().each(function(){e(this).parentsUntil("."+n.menu,"."+n.panel).not("."+n.vertical).first().addClass(n.opened).parentsUntil("."+n.menu,"."+n.panel).not("."+n.vertical).first().addClass(n.opened).addClass(n.subopened)}),c.children("."+n.panel).not("."+n.vertical).addClass(n.opened).parentsUntil("."+n.menu,"."+n.panel).not("."+n.vertical).first().addClass(n.opened).addClass(n.subopened);var p=d.filter("."+n.opened);return p.length||(p=r.first()),p.addClass(n.opened).last().addClass(n.current),r.not("."+n.vertical).not(p.last()).addClass(n.hidden).end().filter(function(){return!e(this).parent().hasClass(n.panels)}).appendTo(this.$pnls),r},_initAnchors:function(){var t=this;r.$body.on(a.click+"-oncanvas","a[href]",function(s){var o=e(this),a=!1,r=t.$menu.find(o).length;for(var l in e[i].addons)if(e[i].addons[l].clickAnchor.call(t,o,r)){a=!0;break}var d=o.attr("href");if(!a&&r&&d.length>1&&"#"==d.slice(0,1))try{var c=e(d,t.$menu);c.is("."+n.panel)&&(a=!0,t[o.parent().hasClass(n.vertical)?"togglePanel":"openPanel"](c))}catch(p){}if(a&&s.preventDefault(),!a&&r&&o.is("."+n.listview+" > li > a")&&!o.is('[rel="external"]')&&!o.is('[target="_blank"]')){t.__valueOrFn(t.opts.onClick.setSelected,o)&&t.setSelected(e(s.target).parent());var u=t.__valueOrFn(t.opts.onClick.preventDefault,o,"#"==d.slice(0,1));u&&s.preventDefault(),t.__valueOrFn(t.opts.onClick.close,o,u)&&t.close()}})},_initAddons:function(){var t;for(t in e[i].addons)e[i].addons[t].add.call(this),e[i].addons[t].add=function(){};for(t in e[i].addons)e[i].addons[t].setup.call(this)},_getOriginalMenuId:function(){var e=this.$menu.attr("id");return e&&e.length&&this.conf.clone&&(e=n.umm(e)),e},__api:function(){var t=this,i={};return e.each(this._api,function(e){var s=this;i[s]=function(){var e=t[s].apply(t,arguments);return"undefined"==typeof e?i:e}}),i},__valueOrFn:function(e,t,i){return"function"==typeof e?e.call(t[0]):"undefined"==typeof e&&"undefined"!=typeof i?i:e},__refactorClass:function(e,t,i){return e.filter("."+t).removeClass(t).addClass(n[i])},__findAddBack:function(e,t){return e.find(t).add(e.filter(t))},__filterListItems:function(e){return e.not("."+n.divider).not("."+n.hidden)},__transitionend:function(e,t,i){var s=!1,n=function(){s||t.call(e[0]),s=!0};e.one(a.transitionend,n),e.one(a.webkitTransitionEnd,n),setTimeout(n,1.1*i)},__getUniqueId:function(){return n.mm(e[i].uniqueId++)}},e.fn[i]=function(s,n){return t(),s=e.extend(!0,{},e[i].defaults,s),n=e.extend(!0,{},e[i].configuration,n),this.each(function(){var t=e(this);if(!t.data(i)){var o=new e[i](t,s,n);o.$menu.data(i,o.__api())}})},e[i].support={touch:"ontouchstart"in window||navigator.msMaxTouchPoints||!1,csstransitions:function(){if("undefined"!=typeof Modernizr&&"undefined"!=typeof Modernizr.csstransitions)return Modernizr.csstransitions;var e=document.body||document.documentElement,t=e.style,i="transition";if("string"==typeof t[i])return!0;var s=["Moz","webkit","Webkit","Khtml","O","ms"];i=i.charAt(0).toUpperCase()+i.substr(1);for(var n=0;n<s.length;n++)if("string"==typeof t[s[n]+i])return!0;return!1}()};var n,o,a,r}}(jQuery),!function(e){var t="mmenu",i="offCanvas";e[t].addons[i]={setup:function(){if(this.opts[i]){var n=this.opts[i],o=this.conf[i];a=e[t].glbl,this._api=e.merge(this._api,["open","close","setPage"]),("top"==n.position||"bottom"==n.position)&&(n.zposition="front"),"string"!=typeof o.pageSelector&&(o.pageSelector="> "+o.pageNodetype),a.$allMenus=(a.$allMenus||e()).add(this.$menu),this.vars.opened=!1;var r=[s.offcanvas];"left"!=n.position&&r.push(s.mm(n.position)),"back"!=n.zposition&&r.push(s.mm(n.zposition)),this.$menu.addClass(r.join(" ")).parent().removeClass(s.wrapper),this.setPage(a.$page),this._initBlocker(),this["_initWindow_"+i](),this.$menu[o.menuInjectMethod+"To"](o.menuWrapperSelector);var l=window.location.hash;if(l){var d=this._getOriginalMenuId();d&&d==l.slice(1)&&this.open()}}},add:function(){s=e[t]._c,n=e[t]._d,o=e[t]._e,s.add("offcanvas slideout blocking modal background opening blocker page"),n.add("style"),o.add("resize")},clickAnchor:function(e,t){if(!this.opts[i])return!1;var s=this._getOriginalMenuId();return s&&e.is('[href="#'+s+'"]')?(this.open(),!0):a.$page?(s=a.$page.first().attr("id"),s&&e.is('[href="#'+s+'"]')?(this.close(),!0):!1):void 0}},e[t].defaults[i]={position:"left",zposition:"back",blockUI:!0,moveBackground:!0},e[t].configuration[i]={pageNodetype:"div",pageSelector:null,noPageSelector:[],wrapPageIfNeeded:!0,menuWrapperSelector:"body",menuInjectMethod:"prepend"},e[t].prototype.open=function(){if(!this.vars.opened){var e=this;this._openSetup(),setTimeout(function(){e._openFinish()},this.conf.openingInterval),this.trigger("open")}},e[t].prototype._openSetup=function(){var t=this,r=this.opts[i];this.closeAllOthers(),a.$page.each(function(){e(this).data(n.style,e(this).attr("style")||"")}),a.$wndw.trigger(o.resize+"-"+i,[!0]);var l=[s.opened];r.blockUI&&l.push(s.blocking),"modal"==r.blockUI&&l.push(s.modal),r.moveBackground&&l.push(s.background),"left"!=r.position&&l.push(s.mm(this.opts[i].position)),"back"!=r.zposition&&l.push(s.mm(this.opts[i].zposition)),this.opts.extensions&&l.push(this.opts.extensions),a.$html.addClass(l.join(" ")),setTimeout(function(){t.vars.opened=!0},this.conf.openingInterval),this.$menu.addClass(s.current+" "+s.opened)},e[t].prototype._openFinish=function(){var e=this;this.__transitionend(a.$page.first(),function(){e.trigger("opened")},this.conf.transitionDuration),a.$html.addClass(s.opening),this.trigger("opening")},e[t].prototype.close=function(){if(this.vars.opened){var t=this;this.__transitionend(a.$page.first(),function(){t.$menu.removeClass(s.current).removeClass(s.opened),a.$html.removeClass(s.opened).removeClass(s.blocking).removeClass(s.modal).removeClass(s.background).removeClass(s.mm(t.opts[i].position)).removeClass(s.mm(t.opts[i].zposition)),t.opts.extensions&&a.$html.removeClass(t.opts.extensions),a.$page.each(function(){e(this).attr("style",e(this).data(n.style))}),t.vars.opened=!1,t.trigger("closed")},this.conf.transitionDuration),a.$html.removeClass(s.opening),this.trigger("close"),this.trigger("closing")}},e[t].prototype.closeAllOthers=function(){a.$allMenus.not(this.$menu).each(function(){var i=e(this).data(t);i&&i.close&&i.close()})},e[t].prototype.setPage=function(t){var n=this,o=this.conf[i];t&&t.length||(t=a.$body.find(o.pageSelector),o.noPageSelector.length&&(t=t.not(o.noPageSelector.join(", "))),t.length>1&&o.wrapPageIfNeeded&&(t=t.wrapAll("<"+this.conf[i].pageNodetype+" />").parent())),t.each(function(){e(this).attr("id",e(this).attr("id")||n.__getUniqueId())}),t.addClass(s.page+" "+s.slideout),a.$page=t,this.trigger("setPage",t)},e[t].prototype["_initWindow_"+i]=function(){a.$wndw.off(o.keydown+"-"+i).on(o.keydown+"-"+i,function(e){return a.$html.hasClass(s.opened)&&9==e.keyCode?(e.preventDefault(),!1):void 0});var e=0;a.$wndw.off(o.resize+"-"+i).on(o.resize+"-"+i,function(t,i){if(1==a.$page.length&&(i||a.$html.hasClass(s.opened))){var n=a.$wndw.height();(i||n!=e)&&(e=n,a.$page.css("minHeight",n))}})},e[t].prototype._initBlocker=function(){var t=this;this.opts[i].blockUI&&(a.$blck||(a.$blck=e('<div id="'+s.blocker+'" class="'+s.slideout+'" />')),a.$blck.appendTo(a.$body).off(o.touchstart+"-"+i+" "+o.touchmove+"-"+i).on(o.touchstart+"-"+i+" "+o.touchmove+"-"+i,function(e){e.preventDefault(),e.stopPropagation(),a.$blck.trigger(o.mousedown+"-"+i)}).off(o.mousedown+"-"+i).on(o.mousedown+"-"+i,function(e){e.preventDefault(),a.$html.hasClass(s.modal)||(t.closeAllOthers(),t.close())}))};var s,n,o,a}(jQuery),!function(e){var t="mmenu",i="scrollBugFix";e[t].addons[i]={setup:function(){var n=this,r=this.opts[i];if(this.conf[i],a=e[t].glbl,e[t].support.touch&&this.opts.offCanvas&&this.opts.offCanvas.blockUI&&("boolean"==typeof r&&(r={fix:r}),"object"!=typeof r&&(r={}),r=this.opts[i]=e.extend(!0,{},e[t].defaults[i],r),r.fix)){var l=this.$menu.attr("id"),d=!1;this.bind("opening",function(){this.$pnls.children("."+s.current).scrollTop(0)}),a.$docu.on(o.touchmove,function(e){n.vars.opened&&e.preventDefault()}),a.$body.on(o.touchstart,"#"+l+"> ."+s.panels+"> ."+s.current,function(e){n.vars.opened&&(d||(d=!0,0===e.currentTarget.scrollTop?e.currentTarget.scrollTop=1:e.currentTarget.scrollHeight===e.currentTarget.scrollTop+e.currentTarget.offsetHeight&&(e.currentTarget.scrollTop-=1),d=!1))}).on(o.touchmove,"#"+l+"> ."+s.panels+"> ."+s.current,function(t){n.vars.opened&&e(this)[0].scrollHeight>e(this).innerHeight()&&t.stopPropagation()}),a.$wndw.on(o.orientationchange,function(){n.$pnls.children("."+s.current).scrollTop(0).css({"-webkit-overflow-scrolling":"auto"}).css({"-webkit-overflow-scrolling":"touch"})})}},add:function(){s=e[t]._c,n=e[t]._d,o=e[t]._e},clickAnchor:function(e,t){}},e[t].defaults[i]={fix:!0};var s,n,o,a}(jQuery),!function(e){var t="mmenu",i="autoHeight";e[t].addons[i]={setup:function(){if(this.opts.offCanvas){var n=this.opts[i];if(this.conf[i],a=e[t].glbl,"boolean"==typeof n&&n&&(n={height:"auto"}),"string"==typeof n&&(n={height:n}),"object"!=typeof n&&(n={}),n=this.opts[i]=e.extend(!0,{},e[t].defaults[i],n),"auto"==n.height||"highest"==n.height){this.$menu.addClass(s.autoheight);var o=function(t){if(this.vars.opened){var i=parseInt(this.$pnls.css("top"),10)||0,o=parseInt(this.$pnls.css("bottom"),10)||0,a=0;this.$menu.addClass(s.measureheight),"auto"==n.height?(t=t||this.$pnls.children("."+s.current),t.is("."+s.vertical)&&(t=t.parents("."+s.panel).not("."+s.vertical).first()),a=t.outerHeight()):"highest"==n.height&&this.$pnls.children().each(function(){var t=e(this);t.is("."+s.vertical)&&(t=t.parents("."+s.panel).not("."+s.vertical).first()),a=Math.max(a,t.outerHeight())}),this.$menu.height(a+i+o).removeClass(s.measureheight)}};this.bind("opening",o),"highest"==n.height&&this.bind("init",o),"auto"==n.height&&(this.bind("update",o),this.bind("openPanel",o),this.bind("closePanel",o))}}},add:function(){s=e[t]._c,n=e[t]._d,o=e[t]._e,s.add("autoheight measureheight"),o.add("resize")},clickAnchor:function(e,t){}},e[t].defaults[i]={height:"default"};var s,n,o,a}(jQuery),!function(e){var t="mmenu",i="backButton";e[t].addons[i]={setup:function(){if(this.opts.offCanvas){var n=this,o=this.opts[i];if(this.conf[i],a=e[t].glbl,"boolean"==typeof o&&(o={close:o}),"object"!=typeof o&&(o={}),o=e.extend(!0,{},e[t].defaults[i],o),o.close){var r="#"+n.$menu.attr("id");this.bind("opened",function(e){location.hash!=r&&history.pushState(null,document.title,r)}),e(window).on("popstate",function(e){a.$html.hasClass(s.opened)?(e.stopPropagation(),n.close()):location.hash==r&&(e.stopPropagation(),n.open())})}}},add:function(){return window.history&&window.history.pushState?(s=e[t]._c,n=e[t]._d,void(o=e[t]._e)):void(e[t].addons[i].setup=function(){})},clickAnchor:function(e,t){}},e[t].defaults[i]={close:!1};var s,n,o,a}(jQuery),!function(e){var t="mmenu",i="dividers";e[t].addons[i]={setup:function(){var n=this,r=this.opts[i];if(this.conf[i],a=e[t].glbl,"boolean"==typeof r&&(r={add:r,fixed:r}),"object"!=typeof r&&(r={}),r=this.opts[i]=e.extend(!0,{},e[t].defaults[i],r),this.bind("init",function(t){this.__refactorClass(e("li",this.$menu),this.conf.classNames[i].collapsed,"collapsed")}),r.add&&this.bind("init",function(t){var i;switch(r.addTo){case"panels":i=t;break;default:i=t.filter(r.addTo)}e("."+s.divider,i).remove(),i.find("."+s.listview).not("."+s.vertical).each(function(){var t="";n.__filterListItems(e(this).children()).each(function(){var i=e.trim(e(this).children("a, span").text()).slice(0,1).toLowerCase();i!=t&&i.length&&(t=i,e('<li class="'+s.divider+'">'+i+"</li>").insertBefore(this))})})}),r.collapse&&this.bind("init",function(t){e("."+s.divider,t).each(function(){var t=e(this),i=t.nextUntil("."+s.divider,"."+s.collapsed);i.length&&(t.children("."+s.subopen).length||(t.wrapInner("<span />"),t.prepend('<a href="#" class="'+s.subopen+" "+s.fullsubopen+'" />')))})}),r.fixed){var l=function(t){t=t||this.$pnls.children("."+s.current);var i=t.find("."+s.divider).not("."+s.hidden);if(i.length){this.$menu.addClass(s.hasdividers);var n=t.scrollTop()||0,o="";t.is(":visible")&&t.find("."+s.divider).not("."+s.hidden).each(function(){e(this).position().top+n<n+1&&(o=e(this).text())}),this.$fixeddivider.text(o)}else this.$menu.removeClass(s.hasdividers)};this.$fixeddivider=e('<ul class="'+s.listview+" "+s.fixeddivider+'"><li class="'+s.divider+'"></li></ul>').prependTo(this.$pnls).children(),this.bind("openPanel",l),this.bind("update",l),this.bind("init",function(t){t.off(o.scroll+"-dividers "+o.touchmove+"-dividers").on(o.scroll+"-dividers "+o.touchmove+"-dividers",function(t){l.call(n,e(this))})})}},add:function(){s=e[t]._c,n=e[t]._d,o=e[t]._e,s.add("collapsed uncollapsed fixeddivider hasdividers"),o.add("scroll")},clickAnchor:function(e,t){if(this.opts[i].collapse&&t){var n=e.parent();if(n.is("."+s.divider)){var o=n.nextUntil("."+s.divider,"."+s.collapsed);return n.toggleClass(s.opened),o[n.hasClass(s.opened)?"addClass":"removeClass"](s.uncollapsed),!0}}return!1}},e[t].defaults[i]={add:!1,addTo:"panels",fixed:!1,collapse:!1},e[t].configuration.classNames[i]={collapsed:"Collapsed"};var s,n,o,a}(jQuery),!function(e){var t="mmenu",i="iconPanels";e[t].addons[i]={setup:function(){var n=this,o=this.opts[i];if(this.conf[i],a=e[t].glbl,"boolean"==typeof o&&(o={add:o}),"number"==typeof o&&(o={add:!0,visible:o}),"object"!=typeof o&&(o={}),o=this.opts[i]=e.extend(!0,{},e[t].defaults[i],o),o.visible++,o.add){this.$menu.addClass(s.iconpanel);for(var r=[],l=0;l<=o.visible;l++)r.push(s.iconpanel+"-"+l);r=r.join(" ");var d=function(t){t.hasClass(s.vertical)||n.$pnls.children("."+s.panel).removeClass(r).filter("."+s.subopened).removeClass(s.hidden).add(t).not("."+s.vertical).slice(-o.visible).each(function(t){e(this).addClass(s.iconpanel+"-"+t)})};this.bind("openPanel",d),this.bind("init",function(t){d.call(n,n.$pnls.children("."+s.current)),o.hideNavbars&&t.removeClass(s.hasnavbar),t.not("."+s.vertical).each(function(){e(this).children("."+s.subblocker).length||e(this).prepend('<a href="#'+e(this).closest("."+s.panel).attr("id")+'" class="'+s.subblocker+'" />')})})}},add:function(){s=e[t]._c,n=e[t]._d,o=e[t]._e,s.add("iconpanel subblocker")},clickAnchor:function(e,t){}},e[t].defaults[i]={add:!1,visible:3,hideNavbars:!1};var s,n,o,a}(jQuery),!function(e){var t="mmenu",i="navbars";e[t].addons[i]={setup:function(){var n=this,o=this.opts[i],r=this.conf[i];if(a=e[t].glbl,"undefined"!=typeof o){o instanceof Array||(o=[o]);var l={};e.each(o,function(a){var d=o[a];"boolean"==typeof d&&d&&(d={}),"object"!=typeof d&&(d={}),"undefined"==typeof d.content&&(d.content=["prev","title"]),d.content instanceof Array||(d.content=[d.content]),d=e.extend(!0,{},n.opts.navbar,d);var c=d.position,p=d.height;"number"!=typeof p&&(p=1),p=Math.min(4,Math.max(1,p)),"bottom"!=c&&(c="top"),l[c]||(l[c]=0),l[c]++;var u=e("<div />").addClass(s.navbar+" "+s.navbar+"-"+c+" "+s.navbar+"-"+c+"-"+l[c]+" "+s.navbar+"-size-"+p);l[c]+=p-1;for(var h=0,f=0,v=d.content.length;v>f;f++){var m=e[t].addons[i][d.content[f]]||!1;m?h+=m.call(n,u,d,r):(m=d.content[f],m instanceof e||(m=e(d.content[f])),u.append(m))}h+=Math.ceil(u.children().not("."+s.btn).not("."+s.title+"-prev").length/p),h>1&&u.addClass(s.navbar+"-content-"+h),u.children("."+s.btn).length&&u.addClass(s.hasbtns),u.prependTo(n.$menu)});for(var d in l)n.$menu.addClass(s.hasnavbar+"-"+d+"-"+l[d])}},add:function(){s=e[t]._c,n=e[t]._d,o=e[t]._e,s.add("close hasbtns")},clickAnchor:function(e,t){}},e[t].configuration[i]={breadcrumbSeparator:"/"},e[t].configuration.classNames[i]={};var s,n,o,a}(jQuery),function(e){var t="mmenu",i="navbars",s="breadcrumbs";e[t].addons[i][s]=function(i,s,n){var o=e[t]._c,a=e[t]._d;o.add("breadcrumbs separator");var r=e('<span class="'+o.breadcrumbs+'" />').appendTo(i);this.bind("init",function(t){t.removeClass(o.hasnavbar).each(function(){for(var t=[],i=e(this),s=e('<span class="'+o.breadcrumbs+'"></span>'),r=e(this).children().first(),l=!0;r&&r.length;){r.is("."+o.panel)||(r=r.closest("."+o.panel));var d=r.children("."+o.navbar).children("."+o.title).text();t.unshift(l?"<span>"+d+"</span>":'<a href="#'+r.attr("id")+'">'+d+"</a>"),l=!1,r=r.data(a.parent)}s.append(t.join('<span class="'+o.separator+'">'+n.breadcrumbSeparator+"</span>")).appendTo(i.children("."+o.navbar))})});var l=function(){r.html(this.$pnls.children("."+o.current).children("."+o.navbar).children("."+o.breadcrumbs).html())};return this.bind("openPanel",l),this.bind("init",l),0}}(jQuery),function(e){var t="mmenu",i="navbars",s="close";e[t].addons[i][s]=function(i,s){var n=e[t]._c,o=e[t].glbl,a=e('<a class="'+n.close+" "+n.btn+'" href="#" />').appendTo(i),r=function(e){a.attr("href","#"+e.attr("id"))};return r.call(this,o.$page),this.bind("setPage",r),-1}}(jQuery),function(e){var t="mmenu",i="navbars",s="next";e[t].addons[i][s]=function(s,n){var o,a,r=e[t]._c,l=e('<a class="'+r.next+" "+r.btn+'" href="#" />').appendTo(s),d=function(e){e=e||this.$pnls.children("."+r.current);var t=e.find("."+this.conf.classNames[i].panelNext);o=t.attr("href"),a=t.html(),l[o?"attr":"removeAttr"]("href",o),l[o||a?"removeClass":"addClass"](r.hidden),
l.html(a)};return this.bind("openPanel",d),this.bind("init",function(){d.call(this)}),-1},e[t].configuration.classNames[i].panelNext="Next"}(jQuery),function(e){var t="mmenu",i="navbars",s="prev";e[t].addons[i][s]=function(s,n){var o=e[t]._c,a=e('<a class="'+o.prev+" "+o.btn+'" href="#" />').appendTo(s);this.bind("init",function(e){e.removeClass(o.hasnavbar).children("."+o.navbar).addClass(o.hidden)});var r,l,d=function(e){if(e=e||this.$pnls.children("."+o.current),!e.hasClass(o.vertical)){var t=e.find("."+this.conf.classNames[i].panelPrev);t.length||(t=e.children("."+o.navbar).children("."+o.prev)),r=t.attr("href"),l=t.html(),a[r?"attr":"removeAttr"]("href",r),a[r||l?"removeClass":"addClass"](o.hidden),a.html(l)}};return this.bind("openPanel",d),this.bind("init",function(){d.call(this)}),-1},e[t].configuration.classNames[i].panelPrev="Prev"}(jQuery),function(e){var t="mmenu",i="navbars",s="searchfield";e[t].addons[i][s]=function(i,s){var n=e[t]._c,o=e('<div class="'+n.search+'" />').appendTo(i);return"object"!=typeof this.opts.searchfield&&(this.opts.searchfield={}),this.opts.searchfield.add=!0,this.opts.searchfield.addTo=o,0}}(jQuery),function(e){var t="mmenu",i="navbars",s="title";e[t].addons[i][s]=function(s,n){var o,a,r=e[t]._c,l=e('<a class="'+r.title+'" />').appendTo(s),d=function(e){if(e=e||this.$pnls.children("."+r.current),!e.hasClass(r.vertical)){var t=e.find("."+this.conf.classNames[i].panelTitle);t.length||(t=e.children("."+r.navbar).children("."+r.title)),o=t.attr("href"),a=t.html()||n.title,l[o?"attr":"removeAttr"]("href",o),l[o||a?"removeClass":"addClass"](r.hidden),l.html(a)}};return this.bind("openPanel",d),this.bind("init",function(e){d.call(this)}),0},e[t].configuration.classNames[i].panelTitle="Title"}(jQuery),!function(e){function t(e){switch(e){case 9:case 16:case 17:case 18:case 37:case 38:case 39:case 40:return!0}return!1}var i="mmenu",s="searchfield";e[i].addons[s]={setup:function(){var l=this,d=this.opts[s],c=this.conf[s];r=e[i].glbl,"boolean"==typeof d&&(d={add:d}),"object"!=typeof d&&(d={}),"boolean"==typeof d.resultsPanel&&(d.resultsPanel={add:d.resultsPanel}),d=this.opts[s]=e.extend(!0,{},e[i].defaults[s],d),c=this.conf[s]=e.extend(!0,{},e[i].configuration[s],c),this.bind("close",function(){this.$menu.find("."+n.search).find("input").blur()}),this.bind("init",function(i){if(d.add){var r;switch(d.addTo){case"panels":r=i;break;default:r=this.$menu.find(d.addTo)}if(r.each(function(){var t=e(this);if(!t.is("."+n.panel)||!t.is("."+n.vertical)){if(!t.children("."+n.search).length){var i=l.__valueOrFn(c.clear,t),s=l.__valueOrFn(c.form,t),o=l.__valueOrFn(c.input,t),r=l.__valueOrFn(c.submit,t),p=e("<"+(s?"form":"div")+' class="'+n.search+'" />'),u=e('<input placeholder="'+d.placeholder+'" type="text" autocomplete="off" />');p.append(u);var h;if(o)for(h in o)u.attr(h,o[h]);if(i&&e('<a class="'+n.btn+" "+n.clear+'" href="#" />').appendTo(p).on(a.click+"-searchfield",function(e){e.preventDefault(),u.val("").trigger(a.keyup+"-searchfield")}),s){for(h in s)p.attr(h,s[h]);r&&!i&&e('<a class="'+n.btn+" "+n.next+'" href="#" />').appendTo(p).on(a.click+"-searchfield",function(e){e.preventDefault(),p.submit()})}t.hasClass(n.search)?t.replaceWith(p):t.prepend(p).addClass(n.hassearch)}if(d.noResults){var f=t.closest("."+n.panel).length;if(f||(t=l.$pnls.children("."+n.panel).first()),!t.children("."+n.noresultsmsg).length){var v=t.children("."+n.listview).first();e('<div class="'+n.noresultsmsg+" "+n.hidden+'" />').append(d.noResults)[v.length?"insertAfter":"prependTo"](v.length?v:t)}}}}),d.search){if(d.resultsPanel.add){d.showSubPanels=!1;var p=this.$pnls.children("."+n.resultspanel);p.length||(p=e('<div class="'+n.panel+" "+n.resultspanel+" "+n.hidden+'" />').appendTo(this.$pnls).append('<div class="'+n.navbar+" "+n.hidden+'"><a class="'+n.title+'">'+d.resultsPanel.title+"</a></div>").append('<ul class="'+n.listview+'" />').append(this.$pnls.find("."+n.noresultsmsg).first().clone()),this.init(p))}this.$menu.find("."+n.search).each(function(){var i,r,c=e(this),u=c.closest("."+n.panel).length;u?(i=c.closest("."+n.panel),r=i):(i=e("."+n.panel,l.$menu),r=l.$menu),d.resultsPanel.add&&(i=i.not(p));var h=c.children("input"),f=l.__findAddBack(i,"."+n.listview).children("li"),v=f.filter("."+n.divider),m=l.__filterListItems(f),g="a",b=g+", span",k="",w=function(){var t=h.val().toLowerCase();if(t!=k){if(k=t,d.resultsPanel.add&&p.children("."+n.listview).empty(),i.scrollTop(0),m.add(v).addClass(n.hidden).find("."+n.fullsubopensearch).removeClass(n.fullsubopen+" "+n.fullsubopensearch),m.each(function(){var t=e(this),i=g;(d.showTextItems||d.showSubPanels&&t.find("."+n.next))&&(i=b);var s=t.data(o.searchtext)||t.children(i).text();s.toLowerCase().indexOf(k)>-1&&t.add(t.prevAll("."+n.divider).first()).removeClass(n.hidden)}),d.showSubPanels&&i.each(function(t){var i=e(this);l.__filterListItems(i.find("."+n.listview).children()).each(function(){var t=e(this),i=t.data(o.sub);t.removeClass(n.nosubresults),i&&i.find("."+n.listview).children().removeClass(n.hidden)})}),d.resultsPanel.add)if(""===k)this.closeAllPanels(),this.openPanel(this.$pnls.children("."+n.subopened).last());else{var s=e();i.each(function(){var t=l.__filterListItems(e(this).find("."+n.listview).children()).not("."+n.hidden).clone(!0);t.length&&(d.resultsPanel.dividers&&(s=s.add('<li class="'+n.divider+'">'+e(this).children("."+n.navbar).text()+"</li>")),s=s.add(t))}),s.find("."+n.next).remove(),p.children("."+n.listview).append(s),this.openPanel(p)}else e(i.get().reverse()).each(function(t){var i=e(this),s=i.data(o.parent);s&&(l.__filterListItems(i.find("."+n.listview).children()).length?(s.hasClass(n.hidden)&&s.children("."+n.next).not("."+n.fullsubopen).addClass(n.fullsubopen).addClass(n.fullsubopensearch),s.removeClass(n.hidden).removeClass(n.nosubresults).prevAll("."+n.divider).first().removeClass(n.hidden)):u||(i.hasClass(n.opened)&&setTimeout(function(){l.openPanel(s.closest("."+n.panel))},(t+1)*(1.5*l.conf.openingInterval)),s.addClass(n.nosubresults)))});r.find("."+n.noresultsmsg)[m.not("."+n.hidden).length?"addClass":"removeClass"](n.hidden),this.update()}};h.off(a.keyup+"-"+s+" "+a.change+"-"+s).on(a.keyup+"-"+s,function(e){t(e.keyCode)||w.call(l)}).on(a.change+"-"+s,function(e){w.call(l)});var y=c.children("."+n.btn);y.length&&h.on(a.keyup+"-"+s,function(e){y[h.val().length?"removeClass":"addClass"](n.hidden)}),h.trigger(a.keyup+"-"+s)})}}})},add:function(){n=e[i]._c,o=e[i]._d,a=e[i]._e,n.add("clear search hassearch resultspanel noresultsmsg noresults nosubresults fullsubopensearch"),o.add("searchtext"),a.add("change keyup")},clickAnchor:function(e,t){}},e[i].defaults[s]={add:!1,addTo:"panels",placeholder:"Search",noResults:"No results found.",resultsPanel:{add:!1,dividers:!0,title:"Search results"},search:!0,showTextItems:!1,showSubPanels:!0},e[i].configuration[s]={clear:!1,form:!1,input:!1,submit:!1};var n,o,a,r}(jQuery),jQuery(document).ready(function(e){"use strict";e(document).on("click","a.list-creator",function(t){t.preventDefault();var i=e(this).attr("href");Hametuha.modal.open(e(this).attr("title"),function(t){e.get(i,{},function(e){t.removeClass("loading"),t.find(".modal-body").html(e.html)})})}),e(document).on("submit",".list-create-form",function(t){t.preventDefault();var i=e(this);i.addClass("loading"),i.ajaxSubmit({success:function(e){e.success?i.trigger("created.hametuha",[e.post]):Hametuha.alert(e.message,!0),i.find("input[type=submit]").attr("disabled",!1),i.removeClass("loading")}})}),e(".modal").on("created.hametuha",".list-create-form",function(t,i){Hametuha.modal.close(),Hametuha.ga.hitEvent("list","add",i.ID),e("body").hasClass("single-lists")&&location.reload()}),e(document).on("submit",".list-save-manager",function(t){t.preventDefault();var i=e(this);i.addClass("loading"),i.ajaxSubmit({success:function(t){i.find("input[type=submit]").attr("disabled",!1),i.removeClass("loading");var s=e('<div class="alert alert-dismissible" role="alert"><button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">閉じる</span></button></div>');s.addClass("alert-"+(t.success?"success":"danger")).append("<span>"+t.message+"</span>"),i.prepend(s),setTimeout(function(){s.find("button").trigger("click")},5e3)}})}),e(document).on("click",".list-eraser",function(t){t.preventDefault(),Hametuha.confirm(e(this).attr("title"),function(){e.post(e(this).attr("href"),function(t){Hametuha.alert(t.message),t.success&&e("body").hasClass("single-lists")&&(window.location.href=t.url)})},!0)});var t=e("#my-list-deleter");t.length&&(e("ol.media-list > li").each(function(i,s){e(s).find(".list-inline").append(t.render({postId:e(s).attr("data-post-id")}))}),e("ol.media-list").on("click",".deregister-button",function(t){t.preventDefault();var i=e(this);Hametuha.confirm("リストからこの作品を削除します。この操作は取り消せませんが、よろしいですか？",function(){e.post(i.attr("href"),{},function(t){t.success?(i.parents("li.media").remove(),e("ol.media-list > li").length||(e("ol.media-list").before('<div class="alert alert-danger">'+t.message+"</div>"),setTimeout(function(){window.location.href=t.home_url},3e3))):Hametuha.alert(t.message,!0)})},!0)}))}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";var t=window.Slick||{};t=function(){function t(t,s){var n,o=this;o.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:e(t),appendDots:e(t),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return'<button type="button" data-role="none" role="button" aria-required="false" tabindex="0">'+(t+1)+"</button>"},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!1,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},o.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},e.extend(o,o.initials),o.activeBreakpoint=null,o.animType=null,o.animProp=null,o.breakpoints=[],o.breakpointSettings=[],o.cssTransitions=!1,o.hidden="hidden",o.paused=!1,o.positionProp=null,o.respondTo=null,o.rowCount=1,o.shouldClick=!0,o.$slider=e(t),o.$slidesCache=null,o.transformType=null,o.transitionType=null,o.visibilityChange="visibilitychange",o.windowWidth=0,o.windowTimer=null,n=e(t).data("slick")||{},o.options=e.extend({},o.defaults,n,s),o.currentSlide=o.options.initialSlide,o.originalSettings=o.options,"undefined"!=typeof document.mozHidden?(o.hidden="mozHidden",o.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(o.hidden="webkitHidden",o.visibilityChange="webkitvisibilitychange"),o.autoPlay=e.proxy(o.autoPlay,o),o.autoPlayClear=e.proxy(o.autoPlayClear,o),o.changeSlide=e.proxy(o.changeSlide,o),o.clickHandler=e.proxy(o.clickHandler,o),o.selectHandler=e.proxy(o.selectHandler,o),o.setPosition=e.proxy(o.setPosition,o),o.swipeHandler=e.proxy(o.swipeHandler,o),o.dragHandler=e.proxy(o.dragHandler,o),o.keyHandler=e.proxy(o.keyHandler,o),o.autoPlayIterator=e.proxy(o.autoPlayIterator,o),o.instanceUid=i++,o.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,o.registerBreakpoints(),o.init(!0),o.checkResponsive(!0)}var i=0;return t}(),t.prototype.addSlide=t.prototype.slickAdd=function(t,i,s){var n=this;if("boolean"==typeof i)s=i,i=null;else if(0>i||i>=n.slideCount)return!1;n.unload(),"number"==typeof i?0===i&&0===n.$slides.length?e(t).appendTo(n.$slideTrack):s?e(t).insertBefore(n.$slides.eq(i)):e(t).insertAfter(n.$slides.eq(i)):s===!0?e(t).prependTo(n.$slideTrack):e(t).appendTo(n.$slideTrack),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slides.each(function(t,i){e(i).attr("data-slick-index",t)}),n.$slidesCache=n.$slides,n.reinit()},t.prototype.animateHeight=function(){var e=this;if(1===e.options.slidesToShow&&e.options.adaptiveHeight===!0&&e.options.vertical===!1){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.animate({height:t},e.options.speed)}},t.prototype.animateSlide=function(t,i){var s={},n=this;n.animateHeight(),n.options.rtl===!0&&n.options.vertical===!1&&(t=-t),n.transformsEnabled===!1?n.options.vertical===!1?n.$slideTrack.animate({left:t},n.options.speed,n.options.easing,i):n.$slideTrack.animate({top:t},n.options.speed,n.options.easing,i):n.cssTransitions===!1?(n.options.rtl===!0&&(n.currentLeft=-n.currentLeft),e({animStart:n.currentLeft}).animate({animStart:t},{duration:n.options.speed,easing:n.options.easing,step:function(e){e=Math.ceil(e),n.options.vertical===!1?(s[n.animType]="translate("+e+"px, 0px)",n.$slideTrack.css(s)):(s[n.animType]="translate(0px,"+e+"px)",n.$slideTrack.css(s))},complete:function(){i&&i.call()}})):(n.applyTransition(),t=Math.ceil(t),n.options.vertical===!1?s[n.animType]="translate3d("+t+"px, 0px, 0px)":s[n.animType]="translate3d(0px,"+t+"px, 0px)",n.$slideTrack.css(s),i&&setTimeout(function(){n.disableTransition(),i.call()},n.options.speed))},t.prototype.asNavFor=function(t){var i=this,s=i.options.asNavFor;s&&null!==s&&(s=e(s).not(i.$slider)),null!==s&&"object"==typeof s&&s.each(function(){var i=e(this).slick("getSlick");i.unslicked||i.slideHandler(t,!0)})},t.prototype.applyTransition=function(e){var t=this,i={};t.options.fade===!1?i[t.transitionType]=t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:i[t.transitionType]="opacity "+t.options.speed+"ms "+t.options.cssEase,t.options.fade===!1?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},t.prototype.autoPlay=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer),e.slideCount>e.options.slidesToShow&&e.paused!==!0&&(e.autoPlayTimer=setInterval(e.autoPlayIterator,e.options.autoplaySpeed))},t.prototype.autoPlayClear=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer)},t.prototype.autoPlayIterator=function(){var e=this;e.options.infinite===!1?1===e.direction?(e.currentSlide+1===e.slideCount-1&&(e.direction=0),e.slideHandler(e.currentSlide+e.options.slidesToScroll)):(e.currentSlide-1===0&&(e.direction=1),e.slideHandler(e.currentSlide-e.options.slidesToScroll)):e.slideHandler(e.currentSlide+e.options.slidesToScroll)},t.prototype.buildArrows=function(){var t=this;t.options.arrows===!0&&(t.$prevArrow=e(t.options.prevArrow).addClass("slick-arrow"),t.$nextArrow=e(t.options.nextArrow).addClass("slick-arrow"),t.slideCount>t.options.slidesToShow?(t.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.prependTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),t.options.infinite!==!0&&t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):t.$prevArrow.add(t.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},t.prototype.buildDots=function(){var t,i,s=this;if(s.options.dots===!0&&s.slideCount>s.options.slidesToShow){for(i='<ul class="'+s.options.dotsClass+'">',t=0;t<=s.getDotCount();t+=1)i+="<li>"+s.options.customPaging.call(this,s,t)+"</li>";i+="</ul>",s.$dots=e(i).appendTo(s.options.appendDots),s.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}},t.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slick-cloned)").addClass("slick-slide"),t.slideCount=t.$slides.length,t.$slides.each(function(t,i){e(i).attr("data-slick-index",t).data("originalStyling",e(i).attr("style")||"")}),t.$slider.addClass("slick-slider"),t.$slideTrack=0===t.slideCount?e('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent(),t.$list=t.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(),t.$slideTrack.css("opacity",0),(t.options.centerMode===!0||t.options.swipeToSlide===!0)&&(t.options.slidesToScroll=1),e("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading"),t.setupInfinite(),t.buildArrows(),t.buildDots(),t.updateDots(),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),t.options.draggable===!0&&t.$list.addClass("draggable")},t.prototype.buildRows=function(){var e,t,i,s,n,o,a,r=this;if(s=document.createDocumentFragment(),o=r.$slider.children(),r.options.rows>1){for(a=r.options.slidesPerRow*r.options.rows,n=Math.ceil(o.length/a),e=0;n>e;e++){var l=document.createElement("div");for(t=0;t<r.options.rows;t++){var d=document.createElement("div");for(i=0;i<r.options.slidesPerRow;i++){var c=e*a+(t*r.options.slidesPerRow+i);o.get(c)&&d.appendChild(o.get(c))}l.appendChild(d)}s.appendChild(l)}r.$slider.html(s),r.$slider.children().children().children().css({width:100/r.options.slidesPerRow+"%",display:"inline-block"})}},t.prototype.checkResponsive=function(t,i){var s,n,o,a=this,r=!1,l=a.$slider.width(),d=window.innerWidth||e(window).width();if("window"===a.respondTo?o=d:"slider"===a.respondTo?o=l:"min"===a.respondTo&&(o=Math.min(d,l)),a.options.responsive&&a.options.responsive.length&&null!==a.options.responsive){n=null;for(s in a.breakpoints)a.breakpoints.hasOwnProperty(s)&&(a.originalSettings.mobileFirst===!1?o<a.breakpoints[s]&&(n=a.breakpoints[s]):o>a.breakpoints[s]&&(n=a.breakpoints[s]));null!==n?null!==a.activeBreakpoint?(n!==a.activeBreakpoint||i)&&(a.activeBreakpoint=n,"unslick"===a.breakpointSettings[n]?a.unslick(n):(a.options=e.extend({},a.originalSettings,a.breakpointSettings[n]),t===!0&&(a.currentSlide=a.options.initialSlide),a.refresh(t)),r=n):(a.activeBreakpoint=n,"unslick"===a.breakpointSettings[n]?a.unslick(n):(a.options=e.extend({},a.originalSettings,a.breakpointSettings[n]),t===!0&&(a.currentSlide=a.options.initialSlide),a.refresh(t)),r=n):null!==a.activeBreakpoint&&(a.activeBreakpoint=null,a.options=a.originalSettings,t===!0&&(a.currentSlide=a.options.initialSlide),a.refresh(t),r=n),t||r===!1||a.$slider.trigger("breakpoint",[a,r])}},t.prototype.changeSlide=function(t,i){var s,n,o,a=this,r=e(t.target);switch(r.is("a")&&t.preventDefault(),r.is("li")||(r=r.closest("li")),o=a.slideCount%a.options.slidesToScroll!==0,s=o?0:(a.slideCount-a.currentSlide)%a.options.slidesToScroll,t.data.message){case"previous":n=0===s?a.options.slidesToScroll:a.options.slidesToShow-s,a.slideCount>a.options.slidesToShow&&a.slideHandler(a.currentSlide-n,!1,i);break;case"next":n=0===s?a.options.slidesToScroll:s,a.slideCount>a.options.slidesToShow&&a.slideHandler(a.currentSlide+n,!1,i);break;case"index":var l=0===t.data.index?0:t.data.index||r.index()*a.options.slidesToScroll;a.slideHandler(a.checkNavigable(l),!1,i),r.children().trigger("focus");break;default:return}},t.prototype.checkNavigable=function(e){var t,i,s=this;if(t=s.getNavigableIndexes(),i=0,e>t[t.length-1])e=t[t.length-1];else for(var n in t){if(e<t[n]){e=i;break}i=t[n]}return e},t.prototype.cleanUpEvents=function(){var t=this;t.options.dots&&null!==t.$dots&&(e("li",t.$dots).off("click.slick",t.changeSlide),t.options.pauseOnDotsHover===!0&&t.options.autoplay===!0&&e("li",t.$dots).off("mouseenter.slick",e.proxy(t.setPaused,t,!0)).off("mouseleave.slick",e.proxy(t.setPaused,t,!1))),t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow&&t.$prevArrow.off("click.slick",t.changeSlide),t.$nextArrow&&t.$nextArrow.off("click.slick",t.changeSlide)),t.$list.off("touchstart.slick mousedown.slick",t.swipeHandler),t.$list.off("touchmove.slick mousemove.slick",t.swipeHandler),t.$list.off("touchend.slick mouseup.slick",t.swipeHandler),t.$list.off("touchcancel.slick mouseleave.slick",t.swipeHandler),t.$list.off("click.slick",t.clickHandler),e(document).off(t.visibilityChange,t.visibility),t.$list.off("mouseenter.slick",e.proxy(t.setPaused,t,!0)),t.$list.off("mouseleave.slick",e.proxy(t.setPaused,t,!1)),t.options.accessibility===!0&&t.$list.off("keydown.slick",t.keyHandler),t.options.focusOnSelect===!0&&e(t.$slideTrack).children().off("click.slick",t.selectHandler),e(window).off("orientationchange.slick.slick-"+t.instanceUid,t.orientationChange),e(window).off("resize.slick.slick-"+t.instanceUid,t.resize),e("[draggable!=true]",t.$slideTrack).off("dragstart",t.preventDefault),e(window).off("load.slick.slick-"+t.instanceUid,t.setPosition),e(document).off("ready.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.cleanUpRows=function(){var e,t=this;t.options.rows>1&&(e=t.$slides.children().children(),e.removeAttr("style"),t.$slider.html(e))},t.prototype.clickHandler=function(e){var t=this;t.shouldClick===!1&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())},t.prototype.destroy=function(t){var i=this;i.autoPlayClear(),i.touchObject={},i.cleanUpEvents(),e(".slick-cloned",i.$slider).detach(),i.$dots&&i.$dots.remove(),i.$prevArrow&&i.$prevArrow.length&&(i.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.prevArrow)&&i.$prevArrow.remove()),i.$nextArrow&&i.$nextArrow.length&&(i.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.nextArrow)&&i.$nextArrow.remove()),i.$slides&&(i.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){e(this).attr("style",e(this).data("originalStyling"))}),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.detach(),i.$list.detach(),i.$slider.append(i.$slides)),i.cleanUpRows(),i.$slider.removeClass("slick-slider"),i.$slider.removeClass("slick-initialized"),i.unslicked=!0,t||i.$slider.trigger("destroy",[i])},t.prototype.disableTransition=function(e){var t=this,i={};i[t.transitionType]="",t.options.fade===!1?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},t.prototype.fadeSlide=function(e,t){var i=this;i.cssTransitions===!1?(i.$slides.eq(e).css({zIndex:i.options.zIndex}),i.$slides.eq(e).animate({opacity:1},i.options.speed,i.options.easing,t)):(i.applyTransition(e),i.$slides.eq(e).css({opacity:1,zIndex:i.options.zIndex}),t&&setTimeout(function(){i.disableTransition(e),t.call()},i.options.speed))},t.prototype.fadeSlideOut=function(e){var t=this;t.cssTransitions===!1?t.$slides.eq(e).animate({opacity:0,zIndex:t.options.zIndex-2},t.options.speed,t.options.easing):(t.applyTransition(e),t.$slides.eq(e).css({opacity:0,zIndex:t.options.zIndex-2}))},t.prototype.filterSlides=t.prototype.slickFilter=function(e){var t=this;null!==e&&(t.$slidesCache=t.$slides,t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.filter(e).appendTo(t.$slideTrack),t.reinit())},t.prototype.getCurrent=t.prototype.slickCurrentSlide=function(){var e=this;return e.currentSlide},t.prototype.getDotCount=function(){var e=this,t=0,i=0,s=0;if(e.options.infinite===!0)for(;t<e.slideCount;)++s,t=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else if(e.options.centerMode===!0)s=e.slideCount;else for(;t<e.slideCount;)++s,t=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return s-1},t.prototype.getLeft=function(e){var t,i,s,n=this,o=0;return n.slideOffset=0,i=n.$slides.first().outerHeight(!0),n.options.infinite===!0?(n.slideCount>n.options.slidesToShow&&(n.slideOffset=n.slideWidth*n.options.slidesToShow*-1,o=i*n.options.slidesToShow*-1),n.slideCount%n.options.slidesToScroll!==0&&e+n.options.slidesToScroll>n.slideCount&&n.slideCount>n.options.slidesToShow&&(e>n.slideCount?(n.slideOffset=(n.options.slidesToShow-(e-n.slideCount))*n.slideWidth*-1,o=(n.options.slidesToShow-(e-n.slideCount))*i*-1):(n.slideOffset=n.slideCount%n.options.slidesToScroll*n.slideWidth*-1,o=n.slideCount%n.options.slidesToScroll*i*-1))):e+n.options.slidesToShow>n.slideCount&&(n.slideOffset=(e+n.options.slidesToShow-n.slideCount)*n.slideWidth,o=(e+n.options.slidesToShow-n.slideCount)*i),n.slideCount<=n.options.slidesToShow&&(n.slideOffset=0,o=0),n.options.centerMode===!0&&n.options.infinite===!0?n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)-n.slideWidth:n.options.centerMode===!0&&(n.slideOffset=0,n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)),t=n.options.vertical===!1?e*n.slideWidth*-1+n.slideOffset:e*i*-1+o,n.options.variableWidth===!0&&(s=n.slideCount<=n.options.slidesToShow||n.options.infinite===!1?n.$slideTrack.children(".slick-slide").eq(e):n.$slideTrack.children(".slick-slide").eq(e+n.options.slidesToShow),t=n.options.rtl===!0?s[0]?-1*(n.$slideTrack.width()-s[0].offsetLeft-s.width()):0:s[0]?-1*s[0].offsetLeft:0,n.options.centerMode===!0&&(s=n.slideCount<=n.options.slidesToShow||n.options.infinite===!1?n.$slideTrack.children(".slick-slide").eq(e):n.$slideTrack.children(".slick-slide").eq(e+n.options.slidesToShow+1),t=n.options.rtl===!0?s[0]?-1*(n.$slideTrack.width()-s[0].offsetLeft-s.width()):0:s[0]?-1*s[0].offsetLeft:0,t+=(n.$list.width()-s.outerWidth())/2)),t},t.prototype.getOption=t.prototype.slickGetOption=function(e){var t=this;return t.options[e]},t.prototype.getNavigableIndexes=function(){var e,t=this,i=0,s=0,n=[];for(t.options.infinite===!1?e=t.slideCount:(i=-1*t.options.slidesToScroll,s=-1*t.options.slidesToScroll,e=2*t.slideCount);e>i;)n.push(i),i=s+t.options.slidesToScroll,s+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return n},t.prototype.getSlick=function(){return this},t.prototype.getSlideCount=function(){var t,i,s,n=this;return s=n.options.centerMode===!0?n.slideWidth*Math.floor(n.options.slidesToShow/2):0,n.options.swipeToSlide===!0?(n.$slideTrack.find(".slick-slide").each(function(t,o){return o.offsetLeft-s+e(o).outerWidth()/2>-1*n.swipeLeft?(i=o,!1):void 0}),t=Math.abs(e(i).attr("data-slick-index")-n.currentSlide)||1):n.options.slidesToScroll},t.prototype.goTo=t.prototype.slickGoTo=function(e,t){var i=this;i.changeSlide({data:{message:"index",index:parseInt(e)}},t)},t.prototype.init=function(t){var i=this;e(i.$slider).hasClass("slick-initialized")||(e(i.$slider).addClass("slick-initialized"),i.buildRows(),i.buildOut(),i.setProps(),i.startLoad(),i.loadSlider(),i.initializeEvents(),i.updateArrows(),i.updateDots()),t&&i.$slider.trigger("init",[i]),i.options.accessibility===!0&&i.initADA()},t.prototype.initArrowEvents=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.on("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.on("click.slick",{message:"next"},e.changeSlide))},t.prototype.initDotEvents=function(){var t=this;t.options.dots===!0&&t.slideCount>t.options.slidesToShow&&e("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide),t.options.dots===!0&&t.options.pauseOnDotsHover===!0&&t.options.autoplay===!0&&e("li",t.$dots).on("mouseenter.slick",e.proxy(t.setPaused,t,!0)).on("mouseleave.slick",e.proxy(t.setPaused,t,!1))},t.prototype.initializeEvents=function(){var t=this;t.initArrowEvents(),t.initDotEvents(),t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler),t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler),t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler),t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler),t.$list.on("click.slick",t.clickHandler),e(document).on(t.visibilityChange,e.proxy(t.visibility,t)),t.$list.on("mouseenter.slick",e.proxy(t.setPaused,t,!0)),t.$list.on("mouseleave.slick",e.proxy(t.setPaused,t,!1)),t.options.accessibility===!0&&t.$list.on("keydown.slick",t.keyHandler),t.options.focusOnSelect===!0&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),e(window).on("orientationchange.slick.slick-"+t.instanceUid,e.proxy(t.orientationChange,t)),e(window).on("resize.slick.slick-"+t.instanceUid,e.proxy(t.resize,t)),e("[draggable!=true]",t.$slideTrack).on("dragstart",t.preventDefault),e(window).on("load.slick.slick-"+t.instanceUid,t.setPosition),e(document).on("ready.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.initUI=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.show(),e.$nextArrow.show()),e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&e.$dots.show(),e.options.autoplay===!0&&e.autoPlay()},t.prototype.keyHandler=function(e){var t=this;e.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===e.keyCode&&t.options.accessibility===!0?t.changeSlide({data:{message:"previous"}}):39===e.keyCode&&t.options.accessibility===!0&&t.changeSlide({data:{message:"next"}}))},t.prototype.lazyLoad=function(){function t(t){e("img[data-lazy]",t).each(function(){var t=e(this),i=e(this).attr("data-lazy"),s=document.createElement("img");s.onload=function(){t.animate({opacity:0},100,function(){t.attr("src",i).animate({opacity:1},200,function(){t.removeAttr("data-lazy").removeClass("slick-loading")})})},s.src=i})}var i,s,n,o,a=this;a.options.centerMode===!0?a.options.infinite===!0?(n=a.currentSlide+(a.options.slidesToShow/2+1),o=n+a.options.slidesToShow+2):(n=Math.max(0,a.currentSlide-(a.options.slidesToShow/2+1)),o=2+(a.options.slidesToShow/2+1)+a.currentSlide):(n=a.options.infinite?a.options.slidesToShow+a.currentSlide:a.currentSlide,o=n+a.options.slidesToShow,a.options.fade===!0&&(n>0&&n--,o<=a.slideCount&&o++)),i=a.$slider.find(".slick-slide").slice(n,o),t(i),a.slideCount<=a.options.slidesToShow?(s=a.$slider.find(".slick-slide"),t(s)):a.currentSlide>=a.slideCount-a.options.slidesToShow?(s=a.$slider.find(".slick-cloned").slice(0,a.options.slidesToShow),t(s)):0===a.currentSlide&&(s=a.$slider.find(".slick-cloned").slice(-1*a.options.slidesToShow),t(s))},t.prototype.loadSlider=function(){var e=this;e.setPosition(),e.$slideTrack.css({opacity:1}),e.$slider.removeClass("slick-loading"),e.initUI(),"progressive"===e.options.lazyLoad&&e.progressiveLazyLoad()},t.prototype.next=t.prototype.slickNext=function(){var e=this;e.changeSlide({data:{message:"next"}})},t.prototype.orientationChange=function(){var e=this;e.checkResponsive(),e.setPosition()},t.prototype.pause=t.prototype.slickPause=function(){var e=this;e.autoPlayClear(),e.paused=!0},t.prototype.play=t.prototype.slickPlay=function(){var e=this;e.paused=!1,e.autoPlay()},t.prototype.postSlide=function(e){var t=this;t.$slider.trigger("afterChange",[t,e]),t.animating=!1,t.setPosition(),t.swipeLeft=null,t.options.autoplay===!0&&t.paused===!1&&t.autoPlay(),t.options.accessibility===!0&&t.initADA()},t.prototype.prev=t.prototype.slickPrev=function(){var e=this;e.changeSlide({data:{message:"previous"}})},t.prototype.preventDefault=function(e){e.preventDefault()},t.prototype.progressiveLazyLoad=function(){var t,i,s=this;t=e("img[data-lazy]",s.$slider).length,t>0&&(i=e("img[data-lazy]",s.$slider).first(),i.attr("src",null),i.attr("src",i.attr("data-lazy")).removeClass("slick-loading").load(function(){i.removeAttr("data-lazy"),s.progressiveLazyLoad(),s.options.adaptiveHeight===!0&&s.setPosition()}).error(function(){
i.removeAttr("data-lazy"),s.progressiveLazyLoad()}))},t.prototype.refresh=function(t){var i,s,n=this;s=n.slideCount-n.options.slidesToShow,n.options.infinite||(n.slideCount<=n.options.slidesToShow?n.currentSlide=0:n.currentSlide>s&&(n.currentSlide=s)),i=n.currentSlide,n.destroy(!0),e.extend(n,n.initials,{currentSlide:i}),n.init(),t||n.changeSlide({data:{message:"index",index:i}},!1)},t.prototype.registerBreakpoints=function(){var t,i,s,n=this,o=n.options.responsive||null;if("array"===e.type(o)&&o.length){n.respondTo=n.options.respondTo||"window";for(t in o)if(s=n.breakpoints.length-1,i=o[t].breakpoint,o.hasOwnProperty(t)){for(;s>=0;)n.breakpoints[s]&&n.breakpoints[s]===i&&n.breakpoints.splice(s,1),s--;n.breakpoints.push(i),n.breakpointSettings[i]=o[t].settings}n.breakpoints.sort(function(e,t){return n.options.mobileFirst?e-t:t-e})}},t.prototype.reinit=function(){var t=this;t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide"),t.slideCount=t.$slides.length,t.currentSlide>=t.slideCount&&0!==t.currentSlide&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll),t.slideCount<=t.options.slidesToShow&&(t.currentSlide=0),t.registerBreakpoints(),t.setProps(),t.setupInfinite(),t.buildArrows(),t.updateArrows(),t.initArrowEvents(),t.buildDots(),t.updateDots(),t.initDotEvents(),t.checkResponsive(!1,!0),t.options.focusOnSelect===!0&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),t.setSlideClasses(0),t.setPosition(),t.$slider.trigger("reInit",[t]),t.options.autoplay===!0&&t.focusHandler()},t.prototype.resize=function(){var t=this;e(window).width()!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout(function(){t.windowWidth=e(window).width(),t.checkResponsive(),t.unslicked||t.setPosition()},50))},t.prototype.removeSlide=t.prototype.slickRemove=function(e,t,i){var s=this;return"boolean"==typeof e?(t=e,e=t===!0?0:s.slideCount-1):e=t===!0?--e:e,s.slideCount<1||0>e||e>s.slideCount-1?!1:(s.unload(),i===!0?s.$slideTrack.children().remove():s.$slideTrack.children(this.options.slide).eq(e).remove(),s.$slides=s.$slideTrack.children(this.options.slide),s.$slideTrack.children(this.options.slide).detach(),s.$slideTrack.append(s.$slides),s.$slidesCache=s.$slides,void s.reinit())},t.prototype.setCSS=function(e){var t,i,s=this,n={};s.options.rtl===!0&&(e=-e),t="left"==s.positionProp?Math.ceil(e)+"px":"0px",i="top"==s.positionProp?Math.ceil(e)+"px":"0px",n[s.positionProp]=e,s.transformsEnabled===!1?s.$slideTrack.css(n):(n={},s.cssTransitions===!1?(n[s.animType]="translate("+t+", "+i+")",s.$slideTrack.css(n)):(n[s.animType]="translate3d("+t+", "+i+", 0px)",s.$slideTrack.css(n)))},t.prototype.setDimensions=function(){var e=this;e.options.vertical===!1?e.options.centerMode===!0&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),e.options.centerMode===!0&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),e.options.vertical===!1&&e.options.variableWidth===!1?(e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length))):e.options.variableWidth===!0?e.$slideTrack.width(5e3*e.slideCount):(e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length)));var t=e.$slides.first().outerWidth(!0)-e.$slides.first().width();e.options.variableWidth===!1&&e.$slideTrack.children(".slick-slide").width(e.slideWidth-t)},t.prototype.setFade=function(){var t,i=this;i.$slides.each(function(s,n){t=i.slideWidth*s*-1,i.options.rtl===!0?e(n).css({position:"relative",right:t,top:0,zIndex:i.options.zIndex-2,opacity:0}):e(n).css({position:"relative",left:t,top:0,zIndex:i.options.zIndex-2,opacity:0})}),i.$slides.eq(i.currentSlide).css({zIndex:i.options.zIndex-1,opacity:1})},t.prototype.setHeight=function(){var e=this;if(1===e.options.slidesToShow&&e.options.adaptiveHeight===!0&&e.options.vertical===!1){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.css("height",t)}},t.prototype.setOption=t.prototype.slickSetOption=function(t,i,s){var n,o,a=this;if("responsive"===t&&"array"===e.type(i))for(o in i)if("array"!==e.type(a.options.responsive))a.options.responsive=[i[o]];else{for(n=a.options.responsive.length-1;n>=0;)a.options.responsive[n].breakpoint===i[o].breakpoint&&a.options.responsive.splice(n,1),n--;a.options.responsive.push(i[o])}else a.options[t]=i;s===!0&&(a.unload(),a.reinit())},t.prototype.setPosition=function(){var e=this;e.setDimensions(),e.setHeight(),e.options.fade===!1?e.setCSS(e.getLeft(e.currentSlide)):e.setFade(),e.$slider.trigger("setPosition",[e])},t.prototype.setProps=function(){var e=this,t=document.body.style;e.positionProp=e.options.vertical===!0?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),(void 0!==t.WebkitTransition||void 0!==t.MozTransition||void 0!==t.msTransition)&&e.options.useCSS===!0&&(e.cssTransitions=!0),e.options.fade&&("number"==typeof e.options.zIndex?e.options.zIndex<3&&(e.options.zIndex=3):e.options.zIndex=e.defaults.zIndex),void 0!==t.OTransform&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(e.animType=!1)),void 0!==t.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.msTransform&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",void 0===t.msTransform&&(e.animType=!1)),void 0!==t.transform&&e.animType!==!1&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=e.options.useTransform&&null!==e.animType&&e.animType!==!1},t.prototype.setSlideClasses=function(e){var t,i,s,n,o=this;i=o.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),o.$slides.eq(e).addClass("slick-current"),o.options.centerMode===!0?(t=Math.floor(o.options.slidesToShow/2),o.options.infinite===!0&&(e>=t&&e<=o.slideCount-1-t?o.$slides.slice(e-t,e+t+1).addClass("slick-active").attr("aria-hidden","false"):(s=o.options.slidesToShow+e,i.slice(s-t+1,s+t+2).addClass("slick-active").attr("aria-hidden","false")),0===e?i.eq(i.length-1-o.options.slidesToShow).addClass("slick-center"):e===o.slideCount-1&&i.eq(o.options.slidesToShow).addClass("slick-center")),o.$slides.eq(e).addClass("slick-center")):e>=0&&e<=o.slideCount-o.options.slidesToShow?o.$slides.slice(e,e+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=o.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(n=o.slideCount%o.options.slidesToShow,s=o.options.infinite===!0?o.options.slidesToShow+e:e,o.options.slidesToShow==o.options.slidesToScroll&&o.slideCount-e<o.options.slidesToShow?i.slice(s-(o.options.slidesToShow-n),s+n).addClass("slick-active").attr("aria-hidden","false"):i.slice(s,s+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===o.options.lazyLoad&&o.lazyLoad()},t.prototype.setupInfinite=function(){var t,i,s,n=this;if(n.options.fade===!0&&(n.options.centerMode=!1),n.options.infinite===!0&&n.options.fade===!1&&(i=null,n.slideCount>n.options.slidesToShow)){for(s=n.options.centerMode===!0?n.options.slidesToShow+1:n.options.slidesToShow,t=n.slideCount;t>n.slideCount-s;t-=1)i=t-1,e(n.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i-n.slideCount).prependTo(n.$slideTrack).addClass("slick-cloned");for(t=0;s>t;t+=1)i=t,e(n.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i+n.slideCount).appendTo(n.$slideTrack).addClass("slick-cloned");n.$slideTrack.find(".slick-cloned").find("[id]").each(function(){e(this).attr("id","")})}},t.prototype.setPaused=function(e){var t=this;t.options.autoplay===!0&&t.options.pauseOnHover===!0&&(t.paused=e,e?t.autoPlayClear():t.autoPlay())},t.prototype.selectHandler=function(t){var i=this,s=e(t.target).is(".slick-slide")?e(t.target):e(t.target).parents(".slick-slide"),n=parseInt(s.attr("data-slick-index"));return n||(n=0),i.slideCount<=i.options.slidesToShow?(i.setSlideClasses(n),void i.asNavFor(n)):void i.slideHandler(n)},t.prototype.slideHandler=function(e,t,i){var s,n,o,a,r=null,l=this;return t=t||!1,l.animating===!0&&l.options.waitForAnimate===!0||l.options.fade===!0&&l.currentSlide===e||l.slideCount<=l.options.slidesToShow?void 0:(t===!1&&l.asNavFor(e),s=e,r=l.getLeft(s),a=l.getLeft(l.currentSlide),l.currentLeft=null===l.swipeLeft?a:l.swipeLeft,l.options.infinite===!1&&l.options.centerMode===!1&&(0>e||e>l.getDotCount()*l.options.slidesToScroll)?void(l.options.fade===!1&&(s=l.currentSlide,i!==!0?l.animateSlide(a,function(){l.postSlide(s)}):l.postSlide(s))):l.options.infinite===!1&&l.options.centerMode===!0&&(0>e||e>l.slideCount-l.options.slidesToScroll)?void(l.options.fade===!1&&(s=l.currentSlide,i!==!0?l.animateSlide(a,function(){l.postSlide(s)}):l.postSlide(s))):(l.options.autoplay===!0&&clearInterval(l.autoPlayTimer),n=0>s?l.slideCount%l.options.slidesToScroll!==0?l.slideCount-l.slideCount%l.options.slidesToScroll:l.slideCount+s:s>=l.slideCount?l.slideCount%l.options.slidesToScroll!==0?0:s-l.slideCount:s,l.animating=!0,l.$slider.trigger("beforeChange",[l,l.currentSlide,n]),o=l.currentSlide,l.currentSlide=n,l.setSlideClasses(l.currentSlide),l.updateDots(),l.updateArrows(),l.options.fade===!0?(i!==!0?(l.fadeSlideOut(o),l.fadeSlide(n,function(){l.postSlide(n)})):l.postSlide(n),void l.animateHeight()):void(i!==!0?l.animateSlide(r,function(){l.postSlide(n)}):l.postSlide(n))))},t.prototype.startLoad=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading")},t.prototype.swipeDirection=function(){var e,t,i,s,n=this;return e=n.touchObject.startX-n.touchObject.curX,t=n.touchObject.startY-n.touchObject.curY,i=Math.atan2(t,e),s=Math.round(180*i/Math.PI),0>s&&(s=360-Math.abs(s)),45>=s&&s>=0?n.options.rtl===!1?"left":"right":360>=s&&s>=315?n.options.rtl===!1?"left":"right":s>=135&&225>=s?n.options.rtl===!1?"right":"left":n.options.verticalSwiping===!0?s>=35&&135>=s?"left":"right":"vertical"},t.prototype.swipeEnd=function(e){var t,i=this;if(i.dragging=!1,i.shouldClick=i.touchObject.swipeLength>10?!1:!0,void 0===i.touchObject.curX)return!1;if(i.touchObject.edgeHit===!0&&i.$slider.trigger("edge",[i,i.swipeDirection()]),i.touchObject.swipeLength>=i.touchObject.minSwipe)switch(i.swipeDirection()){case"left":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide+i.getSlideCount()):i.currentSlide+i.getSlideCount(),i.slideHandler(t),i.currentDirection=0,i.touchObject={},i.$slider.trigger("swipe",[i,"left"]);break;case"right":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide-i.getSlideCount()):i.currentSlide-i.getSlideCount(),i.slideHandler(t),i.currentDirection=1,i.touchObject={},i.$slider.trigger("swipe",[i,"right"])}else i.touchObject.startX!==i.touchObject.curX&&(i.slideHandler(i.currentSlide),i.touchObject={})},t.prototype.swipeHandler=function(e){var t=this;if(!(t.options.swipe===!1||"ontouchend"in document&&t.options.swipe===!1||t.options.draggable===!1&&-1!==e.type.indexOf("mouse")))switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,t.options.verticalSwiping===!0&&(t.touchObject.minSwipe=t.listHeight/t.options.touchThreshold),e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},t.prototype.swipeMove=function(e){var t,i,s,n,o,a=this;return o=void 0!==e.originalEvent?e.originalEvent.touches:null,!a.dragging||o&&1!==o.length?!1:(t=a.getLeft(a.currentSlide),a.touchObject.curX=void 0!==o?o[0].pageX:e.clientX,a.touchObject.curY=void 0!==o?o[0].pageY:e.clientY,a.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(a.touchObject.curX-a.touchObject.startX,2))),a.options.verticalSwiping===!0&&(a.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(a.touchObject.curY-a.touchObject.startY,2)))),i=a.swipeDirection(),"vertical"!==i?(void 0!==e.originalEvent&&a.touchObject.swipeLength>4&&e.preventDefault(),n=(a.options.rtl===!1?1:-1)*(a.touchObject.curX>a.touchObject.startX?1:-1),a.options.verticalSwiping===!0&&(n=a.touchObject.curY>a.touchObject.startY?1:-1),s=a.touchObject.swipeLength,a.touchObject.edgeHit=!1,a.options.infinite===!1&&(0===a.currentSlide&&"right"===i||a.currentSlide>=a.getDotCount()&&"left"===i)&&(s=a.touchObject.swipeLength*a.options.edgeFriction,a.touchObject.edgeHit=!0),a.options.vertical===!1?a.swipeLeft=t+s*n:a.swipeLeft=t+s*(a.$list.height()/a.listWidth)*n,a.options.verticalSwiping===!0&&(a.swipeLeft=t+s*n),a.options.fade===!0||a.options.touchMove===!1?!1:a.animating===!0?(a.swipeLeft=null,!1):void a.setCSS(a.swipeLeft)):void 0)},t.prototype.swipeStart=function(e){var t,i=this;return 1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow?(i.touchObject={},!1):(void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==t?t.pageX:e.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==t?t.pageY:e.clientY,void(i.dragging=!0))},t.prototype.unfilterSlides=t.prototype.slickUnfilter=function(){var e=this;null!==e.$slidesCache&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.appendTo(e.$slideTrack),e.reinit())},t.prototype.unload=function(){var t=this;e(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove(),t.$nextArrow&&t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove(),t.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},t.prototype.unslick=function(e){var t=this;t.$slider.trigger("unslick",[t,e]),t.destroy()},t.prototype.updateArrows=function(){var e,t=this;e=Math.floor(t.options.slidesToShow/2),t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&!t.options.infinite&&(t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===t.currentSlide?(t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-t.options.slidesToShow&&t.options.centerMode===!1?(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-1&&t.options.centerMode===!0&&(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},t.prototype.updateDots=function(){var e=this;null!==e.$dots&&(e.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),e.$dots.find("li").eq(Math.floor(e.currentSlide/e.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))},t.prototype.visibility=function(){var e=this;document[e.hidden]?(e.paused=!0,e.autoPlayClear()):e.options.autoplay===!0&&(e.paused=!1,e.autoPlay())},t.prototype.initADA=function(){var t=this;t.$slides.add(t.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),t.$slideTrack.attr("role","listbox"),t.$slides.not(t.$slideTrack.find(".slick-cloned")).each(function(i){e(this).attr({role:"option","aria-describedby":"slick-slide"+t.instanceUid+i})}),null!==t.$dots&&t.$dots.attr("role","tablist").find("li").each(function(i){e(this).attr({role:"presentation","aria-selected":"false","aria-controls":"navigation"+t.instanceUid+i,id:"slick-slide"+t.instanceUid+i})}).first().attr("aria-selected","true").end().find("button").attr("role","button").end().closest("div").attr("role","toolbar"),t.activateADA()},t.prototype.activateADA=function(){var e=this;e.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},t.prototype.focusHandler=function(){var t=this;t.$slider.on("focus.slick blur.slick","*",function(i){i.stopImmediatePropagation();var s=e(this);setTimeout(function(){t.isPlay&&(s.is(":focus")?(t.autoPlayClear(),t.paused=!0):(t.paused=!1,t.autoPlay()))},0)})},e.fn.slick=function(){var e,i,s=this,n=arguments[0],o=Array.prototype.slice.call(arguments,1),a=s.length;for(e=0;a>e;e++)if("object"==typeof n||"undefined"==typeof n?s[e].slick=new t(s[e],n):i=s[e].slick[n].apply(s[e].slick,o),"undefined"!=typeof i)return i;return s}}),jQuery(document).ready(function(e){"use strict";e(document).on("click","a.share",function(t){var i=window.Hametuha.ga,s=e(this).attr("data-medium"),n=e(this).attr("href"),o=e(this).attr("data-target");switch(s){case"facebook":try{FB.ui({method:"share",href:n},function(e){e&&i.hitEvent("share",s,o)}),t.preventDefault()}catch(a){}break;case"hatena":break;default:i.eventOutbound(t,n,"share",s,o)}}),e(document).on("click","a[data-outbound]",function(t){var i=e(this).attr("href"),s=e(this).attr("data-outbound"),n=e(this).attr("data-action"),o=e(this).attr("data-label"),a=e(this).attr("data-value")||1;s&&n&&o&&Hametuha.ga.eventOutbound(event,i,s,n,o,a)});var t=setInterval(function(){if(window.FB&&window.FB.Event){clearInterval(t);var i={create:"like",remove:"dislike"};e.each(i,function(e,t){FB.Event.subscribe("edge."+e,function(e){try{ga("send",{hitType:"social",socialNetwork:"facebook",socialAction:t,socialTarget:e.replace(/^https?:\/\/hametuha\.(com|info)/,"")})}catch(i){}})})}},100),i=setInterval(function(){window.twttr&&window.twttr.events&&(clearInterval(i),e.each(["follow","tweet","retweet","click","favorite"],function(e,t){window.twttr.events.bind(t,function(e){try{ga("send",{hitType:"social",socialNetwork:"twitter",socialAction:t,socialTarget:window.location.pathname})}catch(i){}})}))},100)}),jQuery(document).ready(function(e){"use strict";e("nav#header-navigation").mmenu({iconPanels:!0,navbars:[!0,{position:"top",content:['<form class="mm-search" method="get" action="/"><input name="s" type="search" placeholder="サイト内を検索" /> </form>']}]},{offCanvas:{pageNodetype:"#whole-body"}}),e(".help-tip").tooltip({trigger:"hover focus click",container:"body"});var t=e("#profile-navi");if(t.length){var i={};e("section","#your-profile").each(function(t,s){var n="profile-section-"+(t+1);e(s).attr("id",n),i[n]=e(s).find("h2, h3:first-child").text()});for(var s in i)i.hasOwnProperty(s)&&t.append('<li><a href="#'+s+'">'+i[s]+"</a></li>")}e(".write-panel-btn").click(function(t){t.preventDefault(),e("#write-panel").toggleClass("open")})}),function(e){"use strict";e(document).on("keydown",".user-picker__input",function(e){return 13==e.keyCode?(e.preventDefault(),!1):void 0});var t,i=!1;e(document).on("keyup",".user-picker__input",function(s){if(!i){t&&clearTimeout(t);var n=e(this),o=n.parents(".user-picker"),a=n.next(".user-picker__placeholder"),r={};t=setTimeout(function(){i=!0,a.removeClass("empty").addClass("loading"),a.find(".user-picker__item").each(function(t,i){e(i).find(".user-picker__link.active").length||e(i).remove()}),e.ajax({url:wpApiSettings.root+"hametuha/v1/doujin/following/me/?s="+n.val(),method:"GET",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",wpApiSettings.nonce)}}).done(function(t){if(t.users.length){var i=o.attr("data-target");r.hasOwnProperty(i)||(r[i]=e.templates(i+"-template")),e.each(t.users,function(e,t){a.append(r[i].render(t))})}}).fail(function(e){var t=e.responseJSON?e.responseJSON.message:"失敗しました。";Hametuha.alert(t,!0)}).always(function(){a.removeClass("loading"),a.find(".user-picker__item").length||a.addClass("empty"),t=null,i=!1})},1e3)}}),e(document).on("click",".user-picker__link",function(t){t.preventDefault(),e(this).toggleClass("active");var i=e(this).parents(".user-picker"),s=[],n=parseInt(i.attr("data-max"),10);e(this).hasClass("active")||(e(this).parent("li").remove(),i.removeClass("filled")),i.find(".user-picker__link.active").each(function(t,i){s.push(e(i).attr("data-user-id"))}),n<=s.length&&(i.addClass("filled"),i.find(".user-picker__link:not(.active)").each(function(t,i){e(i).parent("li").remove()})),e(i.attr("data-target")).val(s.join(","))})}(jQuery);
//# sourceMappingURL=map/common.js.map
