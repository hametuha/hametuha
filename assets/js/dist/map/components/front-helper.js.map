{"version":3,"sources":["components/front-helper.js"],"names":["$","document","ready","ctx","radar","data","labels","datasets","backgroundColor","length","Modernizr","canvas","each","HametuhaGenreStatic","categories","index","cat","push","name","parseInt","count","Math","min","round","total","get","getContext","Chart","type","container","imagesLoaded","masonry","itemSelector","jQuery"],"mappings":"CAQA,SAAWA,GACP,aAEAA,EAAEC,UAAUC,MAAM,WAGd,IAAiCC,EAA7BC,EAAQJ,EAAE,kBAA+BK,EAAO,CAChDC,OAAQ,GACRC,SAAU,CAAC,CACTF,KAAM,GACNG,gBAAiB,MAGnBJ,EAAMK,QACFC,UAAUC,SAEVX,EAAEY,KAAKC,oBAAoBC,WAAY,SAASC,EAAOC,GACnD,GAAY,GAARD,EACA,OAAO,EAEXV,EAAKC,OAAOW,KAAKD,EAAIE,MACrBb,EAAKE,SAAS,GAAGF,KAAKY,KAAKE,SAASH,EAAII,MAAO,KAC/Cf,EAAKE,SAAS,GAAGC,gBAAgBS,KAAM,mBAAqBI,KAAKC,IAAI,EAAGD,KAAKE,MAAOP,EAAII,MAAQP,oBAAoBW,MAAS,GAAM,IAAM,GAAM,IAAO,OAE1JrB,EAAMC,EAAMqB,IAAI,GAAGC,WAAW,MACtB,IAAIC,MAAMxB,EAAK,CACrByB,KAAM,WACNvB,KAAMA,KAMhB,IAAIwB,EAAY7B,EAAE,qBAElB6B,EAAUC,aAAc,WACpBD,EAAUE,QAAQ,CACdC,aAAc,kBArC9B,CA0CGC","file":"../../components/front-helper.js","sourcesContent":["/**\n * Description\n */\n\n/*global Modernizr: true*/\n/*global Chart: true*/\n/*global HametuhaGenreStatic: true*/\n\n(function ($) {\n    'use strict';\n\n    $(document).ready(function(){\n\n        // レーダーチャート\n        var radar = $('#genre-context'), ctx, chart, data = {\n            labels: [],\n            datasets: [{\n              data: [],\n              backgroundColor: []\n            }]\n        };\n        if( radar.length ){\n            if( Modernizr.canvas ){\n                // データを加工する\n                $.each(HametuhaGenreStatic.categories, function(index, cat){\n                    if( index > 10 ){\n                        return false;\n                    }\n                    data.labels.push(cat.name);\n                    data.datasets[0].data.push(parseInt(cat.count, 10));\n                    data.datasets[0].backgroundColor.push( 'rgba(255, 0, 0, ' + Math.min(1, Math.round((cat.count / HametuhaGenreStatic.total) * 0.8 * 10) / 10  + 0.2) + ')' );\n                });\n                ctx = radar.get(0).getContext('2d');\n                chart = new Chart(ctx, {\n                  type: 'doughnut',\n                  data: data\n                });\n            }\n        }\n\n        // masonry\n        var container = $('.frontpage-widget');\n        // initialize Masonry after all images have loaded\n        container.imagesLoaded( function() {\n            container.masonry({\n                itemSelector: '.col-sm-4'\n            });\n        });\n    });\n\n})(jQuery);\n"]}