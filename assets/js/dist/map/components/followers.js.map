{"version":3,"sources":["components/followers.js"],"names":["angular","module","controller","$scope","$http","followers","offset","noFollowers","total","more","getFollowers","endpoint","WP_API_Settings","root","method","url","headers","X-WP-Nonce","nonce","params","then","result","data","console","log","users","length","forEach","user","push","Hametuha","alert","next"],"mappings":"AAOAA,QAAQC,OAAO,qBACVC,WAAW,YAAa,SAAU,QAAS,SAASC,EAAQC,GAEzDD,EAAOE,aAEPF,EAAOG,OAAS,EAEhBH,EAAOI,aAAc,EAErBJ,EAAOK,MAAQ,EAEfL,EAAOM,MAAO,EAEdN,EAAOO,aAAe,SAASJ,GAC3B,GAAIK,GAAWC,gBAAgBC,KAAO,kCACtCT,IACIU,OAAQ,MACRC,IAAKJ,EACLK,SACIC,aAAcL,gBAAgBM,OAElCC,QACIb,OAAQA,KAEbc,KACC,SAASC,GACLlB,EAAOK,MAAQa,EAAOC,KAAKd,MAC3BL,EAAOG,OAASe,EAAOC,KAAKhB,OAC5BiB,QAAQC,IAAIH,EAAOC,MACfD,EAAOC,KAAKG,MAAMC,OAClB1B,QAAQ2B,QAASN,EAAOC,KAAKG,MAAO,SAASG,GACzCzB,EAAOE,UAAUwB,KAAKD,KAG1BzB,EAAOM,MAAO,GAGtB,SAASY,GACLS,SAASC,MAAM,oBAAoB,MAK/C5B,EAAO6B,KAAO,WACV7B,EAAOO,aAAaP,EAAOG,OAAS","file":"components/followers.js","sourcesContent":["/**\n * Follower application\n */\n\n/*global WP_API_Settings: true*/\n/*global Hametuha: true*/\n\nangular.module('hametuFollower', [])\n    .controller('followed', ['$scope', '$http', function($scope, $http){\n\n        $scope.followers = [];\n\n        $scope.offset = 0;\n\n        $scope.noFollowers = false;\n\n        $scope.total = 1;\n\n        $scope.more = true;\n\n        $scope.getFollowers = function(offset){\n            var endpoint = WP_API_Settings.root + 'hametuha/v1/doujin/followers/me/';\n            $http({\n                method: 'GET',\n                url: endpoint,\n                headers: {\n                    'X-WP-Nonce': WP_API_Settings.nonce\n                },\n                params: {\n                    offset: offset\n                }\n            }).then(\n                function(result){\n                    $scope.total = result.data.total;\n                    $scope.offset = result.data.offset;\n                    console.log(result.data);\n                    if( result.data.users.length ){\n                        angular.forEach( result.data.users, function(user){\n                            $scope.followers.push(user);\n                        } );\n                    }else{\n                        $scope.more = false;\n                    }\n                },\n                function(result){\n                    Hametuha.alert('フォロワーを取得できませんでした', true);\n                }\n            );\n        };\n\n        $scope.next = function(){\n            $scope.getFollowers($scope.offset + 20);\n        };\n\n    }])\n;\n"],"sourceRoot":"/source/"}