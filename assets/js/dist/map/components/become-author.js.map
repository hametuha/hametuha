{"version":3,"sources":["components/become-author.js"],"names":["$","document","ready","$cb","$submit","$form","length","find","submit","e","preventDefault","ajaxSubmit","dataType","success","result","Hametuha","alert","message","setTimeout","window","location","href","url","prop","error","click","this","attr","jQuery"],"mappings":";;;CAMA,SAAWA,GACT,YAEAA,GAAEC,UAAUC,MAAM,WAChB,GAAsCC,GAAKC,EAAvCC,EAAQL,EAAE,sBACVK,GAAMC,SACRF,EAAUC,EAAME,KAAK,sBAErBF,EAAMG,OAAO,SAAUC,GACrBN,EAAME,EAAME,KAAK,uCACjBE,EAAEC,iBACEP,EAAIG,OACND,EAAMM,YACJC,SAAU,OACVC,QAAS,SAAUC,GACjBC,SAASC,MAAMF,EAAOG,SAAUH,EAAOD,SACnCC,EAAOD,QACTK,WAAW,WACTC,OAAOC,SAASC,KAAOP,EAAOQ,KAC7B,KACMnB,EAAIG,QACbF,EAAQmB,KAAK,YAAY,IAG7BC,MAAO,WACLT,SAASC,MAAM,oCAAoC,MAIvDD,SAASC,MAAM,mBAAmB,MAKxChB,EAAE,uBAAuByB,MAAM,WACzBzB,EAAE0B,MAAMH,KAAK,WACfvB,EAAE,wBAAwB2B,KAAK,YAAY,GAE3C3B,EAAE,wBAAwB2B,KAAK,YAAY,QAKhDC","file":"../../components/become-author.js","sourcesContent":["/**\n * Description\n */\n\n/*global Hametuha: true*/\n\n(function ($) {\n  'use strict';\n\n  $(document).ready(function () {\n    var $form = $('#become-author-form'), $cb, $submit;\n    if ($form.length) {\n      $submit = $form.find('input[type=submit]');\n      // 送信\n      $form.submit(function (e) {\n        $cb = $form.find('input[name=review_contract]:checked');\n        e.preventDefault();\n        if ($cb.length) {\n          $form.ajaxSubmit({\n            dataType: 'json',\n            success: function (result) {\n              Hametuha.alert(result.message, !result.success);\n              if (result.success) {\n                setTimeout(function () {\n                  window.location.href = result.url;\n                }, 5000);\n              } else if ($cb.length) {\n                $submit.prop('disabled', false);\n              }\n            },\n            error: function () {\n              Hametuha.alert('更新に失敗しました。時間を置いてからもう一度やり直してください。', true);\n            }\n          });\n        } else {\n          Hametuha.alert('利用規約に同意されていません。', true);\n        }\n      });\n    }\n\n    $('#become-login-check').click(function () {\n      if ($(this).prop('checked')) {\n        $('#become-login-button').attr('disabled', false);\n      } else {\n        $('#become-login-button').attr('disabled', true);\n      }\n    });\n  });\n\n})(jQuery);\n"]}