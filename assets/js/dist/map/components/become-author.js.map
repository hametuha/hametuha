{"version":3,"sources":["components/become-author.js"],"names":["$","document","ready","cb","submit","form","length","find","e","preventDefault","ajaxSubmit","dataType","success","result","Hametuha","alert","message","setTimeout","window","location","href","url","prop","error","inputEvent","createElement","unbind","jQuery"],"mappings":"CAMA,SAAWA,GACP,YAGAA,GAAEC,UAAUC,MAAM,WACd,GAAqCC,GAAIC,EAArCC,EAAOL,EAAE,sBAETK,GAAKC,SACLF,EAASC,EAAKE,KAAK,sBAEnBF,EAAKD,OAAO,SAASI,GACjBL,EAAKE,EAAKE,KAAK,uCACfC,EAAEC,iBACEN,EAAGG,OACHD,EAAKK,YACDC,SAAU,OACVC,QAAS,SAASC,GACdC,SAASC,MAAMF,EAAOG,SAAUH,EAAOD,SACnCC,EAAOD,QACPK,WAAW,WACPC,OAAOC,SAASC,KAAOP,EAAOQ,KAC/B,KACGlB,EAAGG,QACTF,EAAOkB,KAAK,YAAY,IAGhCC,MAAO,WACHT,SAASC,MAAM,oCAAoC,MAI3DD,SAASC,MAAM,mBAAmB,OASlD,IAAIS,EAEAA,GADC,WAAavB,UAASwB,cAAe,SACzB,QAEA,QAGjBR,WAAW,WACPjB,EAAE,UAAU0B,OAAOF,IACpB,KAEJG","file":"components/become-author.js","sourcesContent":["/**\n * Description\n */\n\n/*global Hametuha: true*/\n\n(function ($) {\n    'use strict';\n\n\n    $(document).ready(function(){\n        var form = $('#become-author-form'), cb, submit;\n\n        if( form.length ){\n            submit = form.find('input[type=submit]');\n            // 送信\n            form.submit(function(e){\n                cb = form.find('input[name=review_contract]:checked');\n                e.preventDefault();\n                if( cb.length ){\n                    form.ajaxSubmit({\n                        dataType: 'json',\n                        success: function(result){\n                            Hametuha.alert(result.message, !result.success);\n                            if( result.success ){\n                                setTimeout(function(){\n                                    window.location.href = result.url;\n                                }, 5000);\n                            }else if( cb.length ){\n                                submit.prop('disabled', false);\n                            }\n                        },\n                        error: function(){\n                            Hametuha.alert('更新に失敗しました。時間を置いてからもう一度やり直してください。', true);\n                        }\n                    });\n                }else{\n                    Hametuha.alert('利用規約に同意されていません。', true);\n                }\n            });\n        }\n\n    });\n\n\n    // 新しいフォームのサポート\n    var inputEvent;\n    if ( 'oninput' in document.createElement( 'input' ) ) {\n        inputEvent = 'input';\n    } else {\n        inputEvent = 'keyup';\n    }\n    // wp-admin/js/user-profile.js\n    setTimeout(function(){\n        $('#pass2').unbind(inputEvent);\n    }, 10)\n\n})(jQuery);\n"],"sourceRoot":"/source/"}