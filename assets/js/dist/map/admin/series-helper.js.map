{"version":3,"sources":["admin/series-helper.js"],"names":["$","document","ready","$sorter","sortable","axis","handle","opacity","placeholder","containment","update","$lis","this","find","start","length","each","index","li","val","on","e","preventDefault","window","confirm","$li","parents","post","attr","action","_seriesordernonce","series","post_id","done","result","success","remove","alert","message","fail","always","jQuery"],"mappings":"CAOA,SAAWA,GACP,YAGAA,GAAEC,UAAUC,MAAM,WACd,GAAIC,GAAUH,EAAE,qBAChBG,GAAQC,UACJC,KAAM,IACNC,OAAQ,kBACRC,QAAS,GACTC,YAAa,uBACbC,YAAa,SACbC,OAAQ,WACJ,GAAIC,GAAOX,EAAEY,MAAMC,KAAK,MACpBC,EAAQH,EAAKI,MACjBJ,GAAKK,KAAK,SAASC,EAAOC,GACtBlB,EAAEkB,GAAIL,KAAK,6BAA6BM,IAAIL,EAAQG,QAG7DG,GAAG,QAAS,kBAAmB,SAASC,GAEvC,GADAA,EAAEC,iBACEC,OAAOC,QAAQ,qBAAsB,CACrC,GAAIC,GAAMzB,EAAEY,MAAMc,QAAQ,KAC1B1B,GAAE2B,KAAKxB,EAAQyB,KAAK,kBAChBC,OAAQ,cACRC,kBAAmB3B,EAAQyB,KAAK,cAChCG,OAAQ5B,EAAQyB,KAAK,gBACrBI,QAAShC,EAAEY,MAAMgB,KAAK,aACvBK,KAAK,SAASC,GACTA,EAAOC,QACPV,EAAIW,SAEJC,MAAMH,EAAOI,WAElBC,KAAK,cAELC,OAAO,oBAQvBC","file":"admin/series-helper.js","sourcesContent":["/*!\n * Series edit helper\n */\n\n/*global Backbone: true*/\n/*global _: true*/\n\n(function ($) {\n    'use strict';\n\n\n    $(document).ready(function(){\n        var $sorter = $('#series-posts-list');\n        $sorter.sortable({\n            axis: 'y',\n            handle: '.dashicons-menu',\n            opacity: 0.8,\n            placeholder: \"sortable-placeholder\",\n            containment: \"parent\",\n            update: function(){\n                var $lis = $(this).find('li'),\n                    start = $lis.length;\n                $lis.each(function(index, li){\n                    $(li).find('input[name^=series_order]').val(start - index);\n                });\n            }\n        }).on('click', '.button--delete', function(e){\n            e.preventDefault();\n            if( window.confirm('この作品を作品集から除外しますか？') ){\n                var $li = $(this).parents('li');\n                $.post($sorter.attr('data-endpoint'), {\n                    action: 'series_list',\n                    _seriesordernonce: $sorter.attr('data-nonce'),\n                    series: $sorter.attr('data-post-id'),\n                    post_id: $(this).attr('data-id')\n                }).done(function(result){\n                    if( result.success ){\n                        $li.remove();\n                    }else{\n                        alert(result.message);\n                    }\n                }).fail(function(){\n                    // Do nothing\n                }).always(function(){\n                    // Do nothing\n                });\n            }\n        });\n\n    });\n\n})(jQuery);\n"],"sourceRoot":"/source/"}