{"version":3,"sources":["admin/profile.js"],"names":["$","google","load","packages","setOnLoadCallback","data","cols","label","id","type","rows","prop","HametuhaReviews","hasOwnProperty","r","push","c","v","genre","f","positive","value","negative","chart","visualization","ChartWrapper","chartType","containerId","document","getElementById","setDataTable","setOptions","charts","Bar","convertOptions","title","bars","backgroundColor","legend","position","draw","timer","window","resize","clearTimeout","setTimeout","jQuery"],"mappings":"CAOA,SAAWA,GACP,aAEAC,OAAOC,KAAK,gBAAiB,MAAO,CAACC,SAAU,CAAC,SAChDF,OAAOG,kBAAkB,WACrB,IAAIC,EAAO,CACPC,KAAM,CACF,CACIC,MAAO,KACPC,GAAO,QACPC,KAAO,UAEX,CACIF,MAAO,OACPC,GAAO,WACPC,KAAO,UAEX,CACIF,MAAO,MACPC,GAAO,WACPC,KAAO,WAGfC,KAAM,IAEV,IAAK,IAAIC,KAAQC,gBACb,GAAIA,gBAAgBC,eAAeF,GAAO,CACtC,IAAIG,EAAIF,gBAAgBD,GACxBN,EAAKK,KAAKK,KAAK,CACXC,EAAG,CACC,CACIC,EAAGH,EAAEI,MACLC,EAAGL,EAAEI,OAET,CACID,EAAGH,EAAEM,SAASC,MACdF,EAAGL,EAAEM,SAASb,MAAQ,KAAOO,EAAEM,SAASC,MAAQ,KAEpD,CACIJ,EAAGH,EAAEQ,SAASD,MACdF,EAAGL,EAAEQ,SAASf,MAAQ,KAAOO,EAAEQ,SAASD,MAAQ,QAMpE,IAAIE,EAAQ,IAAItB,OAAOuB,cAAcC,aAAa,CAC9CC,UAAa,MACbC,YAAaC,SAASC,eAAe,kBAEzCN,EAAMO,aAAazB,GACnBkB,EAAMQ,WAAW9B,OAAO+B,OAAOC,IAAIC,eAAe,CAC9CX,MAAiB,CACbY,MAAO,uBAEXC,KAAiB,aACjBC,gBAAiB,UACjBC,OAAiB,CACbC,SAAU,WAGlBhB,EAAMiB,OAEN,IAAIC,EAAQ,KACZzC,EAAE0C,QAAQC,OAAO,WACTF,GACAG,aAAaH,GAEjBA,EAAQI,WAAW,WACftB,EAAMiB,QACP,SAtEf,CA2EGM","file":"../../admin/profile.js","sourcesContent":["/**\n * ユーザーのレビューを表示する\n */\n\n/*global HametuhaReviews: true*/\n/*global google: true*/\n\n(function ($) {\n    'use strict';\n\n    google.load('visualization', '1.1', {packages: [\"bar\"]});\n    google.setOnLoadCallback(function () {\n        var data = {\n            cols: [\n                {\n                    label: '名前',\n                    id   : 'label',\n                    type : 'string'\n                },\n                {\n                    label: 'まっとう',\n                    id   : 'positive',\n                    type : 'number'\n                },\n                {\n                    label: '破滅的',\n                    id   : 'negative',\n                    type : 'number'\n                }\n            ],\n            rows: []\n        };\n        for (var prop in HametuhaReviews) {\n            if (HametuhaReviews.hasOwnProperty(prop)) {\n                var r = HametuhaReviews[prop];\n                data.rows.push({\n                    c: [\n                        {\n                            v: r.genre,\n                            f: r.genre\n                        },\n                        {\n                            v: r.positive.value,\n                            f: r.positive.label + ' (' + r.positive.value + ')'\n                        },\n                        {\n                            v: r.negative.value,\n                            f: r.negative.label + ' (' + r.negative.value + ')'\n                        }\n                    ]\n                });\n            }\n        }\n        var chart = new google.visualization.ChartWrapper({\n            chartType  : 'Bar',\n            containerId: document.getElementById('review-graph')\n        });\n        chart.setDataTable(data);\n        chart.setOptions(google.charts.Bar.convertOptions({\n            chart          : {\n                title: 'これまでに投稿者が集めたレビューの総数'\n            },\n            bars           : 'horizontal',\n            backgroundColor: '#f9f9f9',\n            legend         : {\n                position: 'none'\n            }\n        }));\n        chart.draw();\n        // Resize chart\n        var timer = null;\n        $(window).resize(function () {\n            if (timer) {\n                clearTimeout(timer);\n            }\n            timer = setTimeout(function () {\n                chart.draw();\n            }, 500);\n        });\n    });\n\n\n})(jQuery);\n"]}