jQuery(document).ready(function(e){"use strict";if(e("#check-username-valid").click(function(a){a.preventDefault();var t=e(this).next("img"),s=e(this).prev("input");t.addClass("loading"),e.post(HametuhaProfile.endpoint,{_wpnonce:HametuhaProfile.nonce,action:HametuhaProfile.usernameCheck,user_login:e(this).prev("input").val()},function(a){t.removeClass("loading"),a.valid?s.removeClass("error"):s.addClass("error"),e("#your-profile").prev("p.message").remove(),e("#your-profile").before('<p class="message '+(a.valid?"success":"error")+'" style="display:none;">'+a.message+"</p>"),e("#your-profile").prev("p.message").fadeIn()})}),e("#your-profile").submit(function(a){e("input[name=user_login]").val().match(/^[0-9a-zA-Z.\-@_]+$/)||(e("input[name=user_login]").addClass("error"),e(this).prev("p.message").length>0&&e(this).prev("p.message").remove(),e(this).before('<p class="message error" style="display:none;">ユーザー名に使用できるのは半角英数と_.-@のみです。</p>'),e(this).prev("p.message").fadeIn(),a.preventDefault())}),e("#login-success-redirect").length>0)var a=5,t=setInterval(function(){a<=0?(clearInterval(t),window.parent.location.href=e("#login-success-redirect").next("a").attr("href")):(a--,e("#login-success-redirect").text(a))},1e3);e(".delete-fav").click(function(a){if(a.preventDefault(),window.confirm("このお気に入りフレーズを削除してよろしいですか？")){var t=parseInt(e(this).attr("id").replace(/delete_fav_/,""));e(this).prev(".loader").addClass("loading"),e.post(HametuhaProfile.endpoint,{_wpnonce:HametuhaProfile.nonce,action:HametuhaProfile.deleteFavorite,fav_id:t},function(a){a.status?e("#li-fav-"+t).fadeOut("slow",function(a){e(this).remove()}):(e("#li-fav-"+t+" .loader").removeClass("loading"),window.alert(a.message))})}}),e("input#last_name[type=text]").blur(function(a){var t=null;e(this).val().length<1?t="筆名の読みが入力されていません":e(this).val().match(/^[あ-ん 　]+$/)||(t="筆名の読みに使用できるのはひらがなだけです"),t&&e("<p></p>").text(t).addClass("small-message").addClass("error").css("display","none").insertAfter(e(this)).fadeIn("normal",function(){var a=this;setTimeout(function(){e(a).fadeOut("normal",function(){e(this).remove()})},3e3)})})});
//# sourceMappingURL=map/profile-helper.js.map
