/*! 
 * プロフィール編集画面で読み込まれる関数
 */
jQuery(document).ready(function(s){"use strict";if(s("#check-username-valid").click(function(e){e.preventDefault();var a=s(this).next("img"),t=s(this).prev("input");a.addClass("loading"),s.post(HametuhaProfile.endpoint,{_wpnonce:HametuhaProfile.nonce,action:HametuhaProfile.usernameCheck,user_login:s(this).prev("input").val()},function(e){a.removeClass("loading"),e.valid?t.removeClass("error"):t.addClass("error"),s("#your-profile").prev("p.message").remove(),s("#your-profile").before('<p class="message '+(e.valid?"success":"error")+'" style="display:none;">'+e.message+"</p>"),s("#your-profile").prev("p.message").fadeIn()})}),s("#your-profile").submit(function(e){s("input[name=user_login]").val().match(/^[0-9a-zA-Z.\-@_]+$/)||(s("input[name=user_login]").addClass("error"),0<s(this).prev("p.message").length&&s(this).prev("p.message").remove(),s(this).before('<p class="message error" style="display:none;">ユーザー名に使用できるのは半角英数と_.-@のみです。</p>'),s(this).prev("p.message").fadeIn(),e.preventDefault())}),0<s("#login-success-redirect").length)var e=5,a=setInterval(function(){e<=0?(clearInterval(a),window.parent.location.href=s("#login-success-redirect").next("a").attr("href")):(e--,s("#login-success-redirect").text(e))},1e3);s(".delete-fav").click(function(e){if(e.preventDefault(),window.confirm("このお気に入りフレーズを削除してよろしいですか？")){var a=parseInt(s(this).attr("id").replace(/delete_fav_/,""));s(this).prev(".loader").addClass("loading"),s.post(HametuhaProfile.endpoint,{_wpnonce:HametuhaProfile.nonce,action:HametuhaProfile.deleteFavorite,fav_id:a},function(e){e.status?s("#li-fav-"+a).fadeOut("slow",function(e){s(this).remove()}):(s("#li-fav-"+a+" .loader").removeClass("loading"),window.alert(e.message))})}}),s("input#last_name[type=text]").blur(function(e){var a=null;s(this).val().length<1?a="筆名の読みが入力されていません":s(this).val().match(/^[あ-ん 　]+$/)||(a="筆名の読みに使用できるのはひらがなだけです"),a&&s("<p></p>").text(a).addClass("small-message").addClass("error").css("display","none").insertAfter(s(this)).fadeIn("normal",function(){var e=this;setTimeout(function(){s(e).fadeOut("normal",function(){s(this).remove()})},3e3)})})});
//# sourceMappingURL=map/profile-helper.js.map
