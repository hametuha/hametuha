jQuery(document).ready(function(a){if(a("#change-user-login").fancybox({width:600,height:500,type:"iframe"}),a("#check-username-valid").click(function(b){b.preventDefault();var c=a(this).next("img"),d=a(this).prev("input");c.addClass("loading"),a.post(HametuhaProfile.endpoint,{_wpnonce:HametuhaProfile.nonce,action:HametuhaProfile.usernameCheck,user_login:a(this).prev("input").val()},function(b){c.removeClass("loading"),b.valid?d.removeClass("error"):d.addClass("error"),a("#your-profile").prev("p.message").remove(),a("#your-profile").before('<p class="message '+(b.valid?"success":"error")+'" style="display:none;">'+b.message+"</p>"),a("#your-profile").prev("p.message").fadeIn()})}),a("#your-profile").submit(function(b){a("input[name=user_login]").val().match(/^[0-9a-zA-Z.\-@_]+$/)||(a("input[name=user_login]").addClass("error"),a(this).prev("p.message").length>0&&a(this).prev("p.message").remove(),a(this).before('<p class="message error" style="display:none;">ユーザー名に使用できるのは半角英数と_.-@のみです。</p>'),a(this).prev("p.message").fadeIn(),b.preventDefault())}),a("#login-success-redirect").length>0)var b=5,c=setInterval(function(){0>=b?(clearInterval(c),window.parent.location.href=a("#login-success-redirect").next("a").attr("href")):(b--,a("#login-success-redirect").text(b))},1e3);a(".delete-fav").click(function(b){if(b.preventDefault(),confirm("このお気に入りフレーズを削除してよろしいですか？")){var c=parseInt(a(this).attr("id").replace(/delete_fav_/,""));a(this).prev(".loader").addClass("loading"),a.post(HametuhaProfile.endpoint,{_wpnonce:HametuhaProfile.nonce,action:HametuhaProfile.deleteFavorite,fav_id:c},function(b){b.status?a("#li-fav-"+c).fadeOut("slow",function(){a(this).remove()}):(a("#li-fav-"+c+" .loader").removeClass("loading"),alert(b.message))})}}),a("#user-profile-picture-edit").fancybox({width:600,height:400,type:"iframe"}),a("input#last_name[type=text]").blur(function(){var b=null;a(this).val().length<1?b="筆名の読みが入力されていません":a(this).val().match(/^[あ-ん 　]+$/)||(b="筆名の読みに使用できるのはひらがなだけです"),b&&a("<p></p>").text(b).addClass("small-message").addClass("error").css("display","none").insertAfter(a(this)).fadeIn("normal",function(){{var b=this;setTimeout(function(){a(b).fadeOut("normal",function(){a(this).remove()})},3e3)}})})});
//# sourceMappingURL=profile-helper.min.js.map